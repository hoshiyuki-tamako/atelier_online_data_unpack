<script>
class SaveConfig {
  static localStorageKey = 'player';
  static getLocalStorageKeyWithLocale(locale) {
    if (locale === 'zh-TW') {
      return `zh_TW_${this.localStorageKey}`;
    }
    return this.localStorageKey;
  }
}

const { searchParams } = new URL(window.location);
const locale = searchParams.get('locale') || 'ja-JP';
const i = localStorage.getItem(SaveConfig.getLocalStorageKeyWithLocale(locale)) || searchParams.get('i');
window.location.href = `./?locale=${locale}#/tools/characterBuilder?i=${i}`;
</script>