(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsEquipmentExperienceLeveling"],{"177e":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("ade3"),a=s("acb1"),n=s("2ef0");const l=new a["a"];l.G=3,l.M=2e4,l.R=60,l.B=1;class r{static get experiences(){return[...Array(60).keys()].map(e=>e+1).map(e=>this.formula.getValue(e))}compose(e,t,s=1,i=0){const a=r.formula.getValue(e),l=i?r.formula.getValue(s+1)-r.formula.getValue(s)-i:0,c=r.formula.getValue(s)+l,u=c+t,o=u>=a,m=(()=>o?e:t?r.experiences.findIndex(e=>e>u):s)(),p=m===e?0:r.formula.getValue(m+1)-r.formula.getValue(m)-(u-r.formula.getValue(m)),v=c+1.5*t,_=v>=a,g=(()=>_?e:t?r.experiences.findIndex(e=>e>v):s)(),d=g===e?0:r.formula.getValue(g+1)-r.formula.getValue(g)-(v-r.formula.getValue(g));return{targetLevel:m,untilNext:p,totalExperience:Object(n["clamp"])(u,0,a),overExp:u<=a?0:u-a,targetLevelBigSuccess:g,untilNextBigSuccess:d,totalExperienceBigSuccess:Object(n["clamp"])(v,0,a),overExpBigSuccess:v<=a?0:v-a}}}Object(i["a"])(r,"formula",l)},3459:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item-enhance-quality"},[s("div",{staticClass:"left"},[s("div",{staticClass:"experience-items"},e._l(e.equipmentExpItems,(function(t){return s("div",{staticClass:"experience-item",on:{click:function(s){return e.onClickAddItem(t)}}},[s("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[s("img",{staticClass:"icon-small",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0),s("br"),s("br"),s("div",{staticClass:"items"},e._l(e.items,(function(t,i){return s("div",{staticClass:"item",on:{click:function(t){return e.onClickRemoveItem(i)}}},[s("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[s("img",{staticClass:"icon-middle",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0)]),s("div",{staticClass:"right"},[s("div",[s("img",{staticClass:"icon-large",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_20010002.png",alt:e.$t("アイテム")}})]),s("div",[s("div",{staticClass:"orginal-item__edit"},[s("span",[e._v(e._s(e.$t("レベル")))]),s("el-input-number",{attrs:{size:"mini",min:1,max:60,step:1,"step-strictly":""},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),s("span",[e._v(e._s(e.$t("あと")))]),s("el-input-number",{attrs:{size:"mini",min:0,max:e.maxExp,step:1,"step-strictly":""},model:{value:e.untilExp,callback:function(t){e.untilExp=t},expression:"untilExp"}})],1),s("br")]),e._l([e.result],(function(t){return s("div",{staticClass:"result"},[s("table",[s("tr",[s("th",[e._v(e._s(e.$t("目標レベル")))]),s("td",[e._v(e._s(t.targetLevel))])]),s("tr",[s("th",[e._v(e._s(e.$t("あと")))]),s("td",[e._v(e._s(t.untilNext))])]),s("tr",[s("th",[e._v(e._s(e.$t("経験値")))]),s("td",[e._v(e._s(t.totalExperience))])]),s("tr",[s("th",[e._v(e._s(e.$t("無駄になった経験値")))]),s("td",[e._v(e._s(t.overExp))])])]),s("br"),s("h4",{staticClass:"big-success__title"},[e._v(e._s(e.$t("大成功")))]),s("table",{staticClass:"big-success__table"},[s("tr",[s("th",[e._v(e._s(e.$t("目標レベル")))]),s("td",[e._v(e._s(t.targetLevelBigSuccess))])]),s("tr",[s("th",[e._v(e._s(e.$t("あと")))]),s("td",[e._v(e._s(t.untilNextBigSuccess))])]),s("tr",[s("th",[e._v(e._s(e.$t("経験値")))]),s("td",[e._v(e._s(t.totalExperienceBigSuccess))])]),s("tr",[s("th",[e._v(e._s(e.$t("無駄になった経験値")))]),s("td",[e._v(e._s(t.overExpBigSuccess))])])]),s("br"),e._l(e.totalItems,(function(t){var i=t.item,a=t.count;return s("p",{staticClass:"total-item"},[s("img",{staticClass:"icon-small",attrs:{src:i.icon,alt:i.NAME}}),s("span",[e._v("x "+e._s(a)+" "+e._s(e.$t("個"))+" "+e._s(i.SPC[0].SKILL[0].VAL)+" "+e._s(e.$t("経験値")))])])}))],2)}))],2)])},a=[],n=s("ade3"),l=(s("13d5"),s("9ab4")),r=s("2fe1"),c=s("5935"),u=s("0063"),o=s.n(u),m=s("6b98"),p=s("f015"),v=s("177e");class _ extends m["a"]{constructor(...e){super(...e),Object(n["a"])(this,"level",void 0),Object(n["a"])(this,"untilExp",void 0)}}let g=class extends _{get EquipmentExperience(){return v["a"]}get equipmentExpItems(){var e;return null!==(e=this.dataManager.itemsByCategory[p["h"].eGROW_OTHER])&&void 0!==e?e:[]}get experienceItemDfs(){return this.$store.state.equipmentLeveling.experienceItemDfs}set experienceItemDfs(e){this.$store.commit("equipmentLeveling/updateExperienceItemDfs",e)}get items(){return this.experienceItemDfs.map(e=>this.dataManager.itemById[e])}get maxExp(){return v["a"].formula.getValue(this.level+1)-v["a"].formula.getValue(this.level)}get itemExperiences(){return this.items.map(e=>e.SPC[0].SKILL[0].VAL).reduce((e,t)=>e+t,0)}get result(){return(new v["a"]).compose(60,this.itemExperiences,this.level,this.untilExp)}get totalItems(){return o.a.from(this.items).groupBy(e=>e.DF).select(e=>({item:e.firstOrDefault(),count:e.count()})).orderBy(e=>e.item.DF).toArray()}onClickAddItem(e){this.experienceItemDfs.push(e.DF)}onClickRemoveItem(e){this.experienceItemDfs.splice(e,1)}};g=Object(l["b"])([Object(r["b"])({components:{},computed:{...Object(c["b"])("equipmentLeveling",["level","untilExp"])}})],g);var d=g,x=d,f=(s("aaaa"),s("2877")),b=Object(f["a"])(x,i,a,!1,null,"85ca7be2",null);t["default"]=b.exports},aaaa:function(e,t,s){"use strict";s("c987")},c987:function(e,t,s){}}]);