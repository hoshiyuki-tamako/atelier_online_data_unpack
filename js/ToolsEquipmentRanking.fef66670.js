(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsEquipmentRanking"],{baf1:function(t,l,e){"use strict";e.r(l);var o=function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{staticClass:"container"},[e("div",{staticClass:"filters"},[e("div",{staticClass:"filter"},[e("span",[t._v(t._s(t.$t("カテゴリー")))]),e("el-select",{attrs:{placeholder:"",searchable:"",clearable:""},on:{change:t.updateSort},model:{value:t.category,callback:function(l){t.category=l},expression:"category"}},t._l(t.itemCategoryOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"filter"},[e("span",[t._v(t._s(t.$t("武器種類")))]),e("el-select",{attrs:{placeholder:"",searchable:"",clearable:"",disabled:!t.isCurrentCategoryWeaponKindFilter},model:{value:t.weaponKind,callback:function(l){t.weaponKind=l},expression:"weaponKind"}},t._l(t.weaponKindOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"filter"},[e("span",[t._v(t._s(t.$t("攻撃属性")))]),e("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},model:{value:t.battleElement,callback:function(l){t.battleElement=l},expression:"battleElement"}},t._l(Object.entries(t.dataManager.lookup.EBattleElementKind),(function(l){var o=l[0],a=l[1];return e("el-option",{key:o,attrs:{label:t.$t(a),value:+o}})})),1)],1),e("div",{staticClass:"filter"},[e("span",[t._v(t._s(t.$t("スキル属性")))]),e("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},model:{value:t.skillElement,callback:function(l){t.skillElement=l},expression:"skillElement"}},t._l(Object.entries(t.dataManager.lookup.EBattleElementKind),(function(l){var o=l[0],a=l[1];return e("el-option",{key:o,attrs:{label:t.$t(a),value:+o}})})),1)],1),e("div",{staticClass:"filters"},[e("el-checkbox",{on:{change:t.updateSort},model:{value:t.support,callback:function(l){t.support=l},expression:"support"}},[t._v(t._s(t.$t("サブ装備")))])],1)]),e("div",{staticClass:"filters"},[e("div",{staticClass:"filter"},[e("span",[t._v(t._s(t.$t("品質")))]),e("el-input-number",{attrs:{size:"mini",min:1,step:1,"step-strictly":""},model:{value:t.quality,callback:function(l){t.quality=l},expression:"quality"}})],1),e("div",{staticClass:"filter"},[e("span",[t._v("LV")]),e("el-input-number",{attrs:{size:"mini",min:1,step:1,"step-strictly":""},model:{value:t.level,callback:function(l){t.level=l},expression:"level"}})],1)]),e("div",{staticClass:"filters"},[e("div",{staticClass:"filter"},[e("el-checkbox",{model:{value:t.showColumnTotalState,callback:function(l){t.showColumnTotalState=l},expression:"showColumnTotalState"}},[t._v(t._s(t.$t("総戦闘力")))]),e("el-checkbox",{model:{value:t.showColumnSATKSkill,callback:function(l){t.showColumnSATKSkill=l},expression:"showColumnSATKSkill"}},[t._v(t._s(t.$t("物理スキル")))]),e("el-checkbox",{model:{value:t.showColumnSATK,callback:function(l){t.showColumnSATK=l},expression:"showColumnSATK"}},[t._v(t._s(t.$t("物理攻撃")))]),e("el-checkbox",{model:{value:t.showColumnSDEF,callback:function(l){t.showColumnSDEF=l},expression:"showColumnSDEF"}},[t._v(t._s(t.$t("物理防禦")))]),e("el-checkbox",{model:{value:t.showColumnMATKSkill,callback:function(l){t.showColumnMATKSkill=l},expression:"showColumnMATKSkill"}},[t._v(t._s(t.$t("魔法スキル")))]),e("el-checkbox",{model:{value:t.showColumnMATK,callback:function(l){t.showColumnMATK=l},expression:"showColumnMATK"}},[t._v(t._s(t.$t("魔法攻撃")))]),e("el-checkbox",{model:{value:t.showColumnMDEF,callback:function(l){t.showColumnMDEF=l},expression:"showColumnMDEF"}},[t._v(t._s(t.$t("魔法防禦")))]),e("el-checkbox",{model:{value:t.showColumnSPD,callback:function(l){t.showColumnSPD=l},expression:"showColumnSPD"}},[t._v(t._s(t.$t("速度")))]),e("el-checkbox",{model:{value:t.showColumnQTH,callback:function(l){t.showColumnQTH=l},expression:"showColumnQTH"}},[t._v(t._s(t.$t("クリティカル")))]),e("el-checkbox",{model:{value:t.showColumnDDG,callback:function(l){t.showColumnDDG=l},expression:"showColumnDDG"}},[t._v(t._s(t.$t("回避")))]),e("el-checkbox",{model:{value:t.showColumnTotalElement,callback:function(l){t.showColumnTotalElement=l},expression:"showColumnTotalElement"}},[t._v(t._s(t.$t("全属性")))]),e("el-checkbox",{model:{value:t.showColumnFIRE,callback:function(l){t.showColumnFIRE=l},expression:"showColumnFIRE"}},[t._v(t._s(t.$t("火")))]),e("el-checkbox",{model:{value:t.showColumnWATER,callback:function(l){t.showColumnWATER=l},expression:"showColumnWATER"}},[t._v(t._s(t.$t("水")))]),e("el-checkbox",{model:{value:t.showColumnEARTH,callback:function(l){t.showColumnEARTH=l},expression:"showColumnEARTH"}},[t._v(t._s(t.$t("土")))]),e("el-checkbox",{model:{value:t.showColumnWIND,callback:function(l){t.showColumnWIND=l},expression:"showColumnWIND"}},[t._v(t._s(t.$t("風")))]),e("el-checkbox",{model:{value:t.showColumnLIGHT,callback:function(l){t.showColumnLIGHT=l},expression:"showColumnLIGHT"}},[t._v(t._s(t.$t("光")))]),e("el-checkbox",{model:{value:t.showColumnDARK,callback:function(l){t.showColumnDARK=l},expression:"showColumnDARK"}},[t._v(t._s(t.$t("闇")))])],1)]),e("el-table",{ref:"table",attrs:{data:t.filteredData},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{prop:"NAME",label:t.$t("名前")},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",[t._v(t._s(l.row.NAME))]),e("router-link",{attrs:{to:{name:"ItemsItem",query:{df:l.row.DF,quality:t.quality,level:t.level}},target:"_blank"}},[e("img",{staticClass:"icon-small",attrs:{src:l.row.icon,alt:l.row.NAME}})]),t._l(t.dataManager.charactersByGroupDf[l.row.GROUP_DF],(function(o){return l.row.GROUP_DF&&t.dataManager.charactersByGroupDf[l.row.GROUP_DF]?[e("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:o.DF}},target:"_blank"}},[e("img",{staticClass:"icon-small",attrs:{src:o.icon,alt:o.NAME}})])]:t._e()}))]}}])}),t.showColumnTotalState?e("el-table-column",{attrs:{prop:"totalState",label:t.$t("総戦闘力"),width:t.tableOptions.column.longTextWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnSATK&&t.showAttackSkillColumn?e("el-table-column",{attrs:{prop:"SATKSkill",width:t.tableOptions.column.attackSkillWidth,align:t.tableOptions.column.align,sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",[t._v(t._s(l.row.SATKSkill))]),l.row.SATKSkill&&l.row.skill?[e("span",[t._v(" (")]),e("span",[t._v(t._s(100*l.row.skill.effectValue)+"%")]),e("span",[t._v(" "+t._s(t.$t(t.dataManager.lookup.EBattleElementKindShort[l.row.skill.element])))]),e("span",[t._v(")")])]:t._e()]}}],null,!1,2591032270)},[e("template",{slot:"header"},["en"===t.dataManager.locale?e("el-tooltip",{attrs:{content:t.$t("物理スキル"),placement:"top"}},[e("span",[t._v("P.ATK Skill")])]):e("span",[t._v(t._s(t.$t("物理スキル")))])],1)],2):t._e(),t.showColumnSATK?e("el-table-column",{attrs:{prop:"SATK",label:t.$t("物理攻撃"),width:t.tableOptions.column.longTextWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnSDEF?e("el-table-column",{attrs:{prop:"SDEF",label:t.$t("物理防禦"),width:t.tableOptions.column.longTextWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnMATKSkill&&t.showAttackSkillColumn?e("el-table-column",{attrs:{prop:"MATKSkill",width:t.tableOptions.column.attackSkillWidth,align:t.tableOptions.column.align,sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",[t._v(t._s(l.row.MATKSkill))]),l.row.MATKSkill&&l.row.skill?[e("span",[t._v(" (")]),e("span",[t._v(t._s(100*l.row.skill.effectValue)+"%")]),e("span",[t._v(" "+t._s(t.$t(t.dataManager.lookup.EBattleElementKindShort[l.row.skill.element])))]),e("span",[t._v(")")])]:t._e()]}}],null,!1,3923244558)},[e("template",{slot:"header"},["en"===t.dataManager.locale?e("el-tooltip",{attrs:{content:t.$t("魔法スキル"),placement:"top"}},[e("span",[t._v("M.ATK Skill")])]):e("span",[t._v(t._s(t.$t("魔法スキル")))])],1)],2):t._e(),t.showColumnMATK?e("el-table-column",{attrs:{prop:"MATK",label:t.$t("魔法攻撃"),width:t.tableOptions.column.longTextWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnMDEF?e("el-table-column",{attrs:{prop:"MDEF",label:t.$t("魔法防禦"),width:t.tableOptions.column.longTextWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnSPD?e("el-table-column",{attrs:{prop:"SPD",label:t.$t("速度"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnQTH&&!t.support?e("el-table-column",{attrs:{prop:"QTH",label:t.$t("クリティカル"),width:t.tableOptions.column.criticalHitWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnDDG&&!t.support?e("el-table-column",{attrs:{prop:"DDG",label:t.$t("回避"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnTotalElement?e("el-table-column",{attrs:{prop:"totalElement",label:t.$t("全属性"),width:t.tableOptions.column.allElementWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnFIRE?e("el-table-column",{attrs:{prop:"FIRE",label:t.$t("火"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnWATER?e("el-table-column",{attrs:{prop:"WATER",label:t.$t("水"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnEARTH?e("el-table-column",{attrs:{prop:"EARTH",label:t.$t("土"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnWIND?e("el-table-column",{attrs:{prop:"WIND",label:t.$t("風"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnLIGHT?e("el-table-column",{attrs:{prop:"LIGHT",label:t.$t("光"),width:"100%",align:t.tableOptions.column.align,sortable:"custom"}}):t._e(),t.showColumnDARK?e("el-table-column",{attrs:{prop:"DARK",label:t.$t("闇"),width:t.tableOptions.column.darknessWidth,align:t.tableOptions.column.align,sortable:"custom"}}):t._e()],1)],1)},a=[],s=e("ade3"),n=e("9ab4"),i=e("2fe1"),u=e("6b98"),r=e("0063"),c=e.n(r),m=e("2ef0"),h=e("acb1"),p=e("8faf"),b=e("5935"),d=e("f015");class w extends u["a"]{constructor(...t){super(...t),Object(s["a"])(this,"category",void 0),Object(s["a"])(this,"weaponKind",void 0),Object(s["a"])(this,"battleElement",void 0),Object(s["a"])(this,"skillElement",void 0),Object(s["a"])(this,"support",void 0),Object(s["a"])(this,"quality",void 0),Object(s["a"])(this,"level",void 0),Object(s["a"])(this,"showColumnTotalState",void 0),Object(s["a"])(this,"showColumnSATKSkill",void 0),Object(s["a"])(this,"showColumnSATK",void 0),Object(s["a"])(this,"showColumnSDEF",void 0),Object(s["a"])(this,"showColumnMATKSkill",void 0),Object(s["a"])(this,"showColumnMATK",void 0),Object(s["a"])(this,"showColumnMDEF",void 0),Object(s["a"])(this,"showColumnSPD",void 0),Object(s["a"])(this,"showColumnQTH",void 0),Object(s["a"])(this,"showColumnDDG",void 0),Object(s["a"])(this,"showColumnTotalElement",void 0),Object(s["a"])(this,"showColumnFIRE",void 0),Object(s["a"])(this,"showColumnWATER",void 0),Object(s["a"])(this,"showColumnEARTH",void 0),Object(s["a"])(this,"showColumnWIND",void 0),Object(s["a"])(this,"showColumnLIGHT",void 0),Object(s["a"])(this,"showColumnDARK",void 0)}}let v=class extends w{constructor(...t){super(...t),Object(s["a"])(this,"sort",""),Object(s["a"])(this,"order",null)}get tableOptions(){const t={column:{longTextWidth:"100%",attackSkillWidth:"120%",criticalHitWidth:"130%",allElementWidth:"120%",darknessWidth:"100%",align:"left"}};switch(this.dataManager.locale){case"zh-TW":case"zh-HK":case"zh-CN":return{...t,column:{...t.column,criticalHitWidth:"100%"}};case"en":return{column:{longTextWidth:"180",attackSkillWidth:"130%",criticalHitWidth:"120%",allElementWidth:"120%",darknessWidth:"110%",align:"center"}};default:return t}}get showAttackSkillColumn(){return this.isCurrentCategoryWeaponKindFilter&&!this.support}get isCurrentCategoryWeaponKindFilter(){return!this.category||this.dataManager.itemsWeaponKindCategories.includes(this.category)}get itemCategoryOptions(){return c.a.from(this.dataManager.item.m_vList).where(t=>!!t.EQU_BRD).groupBy(t=>t.CATEG).orderBy(t=>t.key()).select(t=>({label:this.$t(this.dataManager.lookup.itemCategory[t.key()]),value:t.key()}))}get weaponKindOptions(){return Object.keys(this.dataManager.itemsByWeaponKind).map(t=>({label:this.$t(this.dataManager.lookup.weaponKind[t]),value:+t})).filter(t=>t.value)}get filteredData(){const t=this.support?this.supportEquipments:this.equpiments;return this.sort?"ascending"===this.order?c.a.from(t).orderBy(t=>t[this.sort]).thenBy(t=>t.totalState).thenBy(t=>t.totalElement).toArray():c.a.from(t).orderByDescending(t=>t[this.sort]).thenByDescending(t=>t.totalState).thenByDescending(t=>t.totalElement).toArray():t}get items(){return this.isCurrentCategoryWeaponKindFilter||(this.weaponKind=null),this.weaponKind?this.dataManager.itemsByWeaponKind[this.weaponKind]:this.category?this.dataManager.itemsByCategory[this.category]:this.dataManager.itemsEquipments}get filteredItems(){return this.items.filter(t=>{var l,e,o;return([null,"",-1].includes(this.battleElement)||(null!==(l=null===(e=t.elementChangeSkill)||void 0===e?void 0:e.effectValue)&&void 0!==l?l:0)===this.battleElement)&&([null,"",-1].includes(this.skillElement)||(null===(o=t.getAttackSkill())||void 0===o?void 0:o.element)===this.skillElement)})}get supportEquipments(){return this.filteredItems.map(t=>({DF:t.DF,NAME:t.NAME,GROUP_DF:t.GROUP_DF,icon:t.icon,totalState:Object(m["sum"])(p["b"].states.filter(l=>l in t.EQU).map(l=>t.EQU[l].getSupportValue(this.level))),SATK:t.EQU.SATK.getSupportValue(this.level),SATKSkill:0,SDEF:t.EQU.SDEF.getSupportValue(this.level),MATK:t.EQU.MATK.getSupportValue(this.level),MATKSkill:0,MDEF:t.EQU.MDEF.getSupportValue(this.level),SPD:t.EQU.SPD.getSupportValue(this.level),QTH:0,DDG:0,totalElement:Object(m["sum"])(Object.values(t.ELM).map(t=>h["a"].getSupportElement(t))),FIRE:h["a"].getSupportElement(t.ELM.FIRE),WATER:h["a"].getSupportElement(t.ELM.WATER),EARTH:h["a"].getSupportElement(t.ELM.EARTH),WIND:h["a"].getSupportElement(t.ELM.WIND),LIGHT:h["a"].getSupportElement(t.ELM.LIGHT),DARK:h["a"].getSupportElement(t.ELM.DARK),skill:null}))}get equpiments(){return this.filteredItems.map(t=>{const l=t.getState("SATK",this.quality,this.level).total,e=t.getState("MATK",this.quality,this.level).total,o=t.getAttackSkill(this.quality);return{DF:t.DF,NAME:t.NAME,GROUP_DF:t.GROUP_DF,icon:t.icon,totalState:Object(m["sum"])(t.getStates(this.quality,this.level).map(t=>t.total)),SATK:l,SATKSkill:o&&[d["b"].eSLASH_DAMAGED,d["b"].eBLOW_DAMAGED].includes(o.attackSkill.attribute)?Math.round(l*o.effectValue):0,SDEF:t.getState("SDEF",this.quality,this.level).total,MATK:e,MATKSkill:o&&o.attackSkill.attribute===d["b"].eMAGIC_DAMAGED?Math.round(e*o.effectValue):0,MDEF:t.getState("MDEF",this.quality,this.level).total,SPD:t.getState("SPD",this.quality,this.level).total,QTH:t.getState("QTH",this.quality,this.level).total,DDG:t.getState("DDG",this.quality,this.level).total,totalElement:Object(m["sum"])(t.getElements(this.quality).map(t=>t.total)),FIRE:t.getElement("FIRE",this.quality).total,WATER:t.getElement("WATER",this.quality).total,EARTH:t.getElement("EARTH",this.quality).total,WIND:t.getElement("WIND",this.quality).total,LIGHT:t.getElement("LIGHT",this.quality).total,DARK:t.getElement("DARK",this.quality).total,skill:o}})}beforeMount(){this.category||(this.category=this.dataManager.itemsEquipments[0].CATEG)}onSortChange({prop:t,order:l}){this.sort=t,this.order=l}updateSort(){const{sort:t}=this;if(this.sort&&this.$refs.table.clearSort(),this.showAttackSkillColumn)this.sort=t;else switch(t){case"SATKSkill":this.sort="SATK";break;case"MATKSkill":this.sort="MATK";break;default:this.sort=t}}};v=Object(n["b"])([Object(i["b"])({components:{},computed:{...Object(b["b"])("equipmentRankingFilter",["category","weaponKind","battleElement","skillElement","support","quality","level","showColumnTotalState","showColumnSATKSkill","showColumnSATK","showColumnSDEF","showColumnMATKSkill","showColumnMATK","showColumnMDEF","showColumnSPD","showColumnQTH","showColumnDDG","showColumnTotalElement","showColumnFIRE","showColumnWATER","showColumnEARTH","showColumnWIND","showColumnLIGHT","showColumnDARK"])}})],v);var C=v,E=C,g=e("2877"),k=Object(g["a"])(E,o,a,!1,null,null,null);l["default"]=k.exports}}]);