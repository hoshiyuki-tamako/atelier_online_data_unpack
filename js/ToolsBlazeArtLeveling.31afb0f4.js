(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsBlazeArtLeveling"],{"0ca3":function(t,e,a){},"1b40":function(t,e,a){"use strict";a.d(e,"a",(function(){return r["b"]})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return p}));var r=a("2fe1"),c=function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;var r=Array(t),c=0;for(e=0;e<a;e++)for(var i=arguments[e],s=0,n=i.length;s<n;s++,c++)r[c]=i[s];return r},i=/\B([A-Z])/g,s=function(t){return t.replace(i,"-$1").toLowerCase()};function n(t){return function(e,a,r){var i=s(a),n=r.value;r.value=function(){for(var e=this,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var s=function(r){var s=t||i;void 0===r?0===a.length?e.$emit(s):1===a.length?e.$emit(s,a[0]):e.$emit.apply(e,c([s],a)):(a.unshift(r),e.$emit.apply(e,c([s],a)))},o=n.apply(this,a);return l(o)?o.then(s):s(o),o}}}function l(t){return t instanceof Promise||t&&"function"===typeof t.then}var o="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function u(t,e,a){if(o&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,a);r!==Object&&(t.type=r)}}function p(t){return void 0===t&&(t={}),function(e,a){u(t,e,a),Object(r["a"])((function(e,a){(e.props||(e.props={}))[a]=t}))(e,a)}}},"48b0":function(t,e,a){"use strict";a("0ca3")},"613e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[t.showTitle?a("span",[t._v(t._s(t.$t("キャラクター")))]):t._e(),a("el-select",{attrs:{clearable:t.clearable,placeholder:"",filterable:""},on:{change:t.change},model:{value:t.character,callback:function(e){t.character=e},expression:"character"}},t._l(t.characters,(function(e,r){return a("el-option",{key:r,attrs:{label:e.NAME,value:e.DF}},[e.hasFaceIcon?a("img",{staticClass:"option-image",attrs:{src:e.faceIcon,alt:e.NAME}}):e.hasIcon?a("img",{staticClass:"option-image",attrs:{src:e.icon,alt:e.NAME}}):t._e(),a("span",{staticClass:"option-text"},[t._v(t._s(e.NAME))])])})),1)],1)},c=[],i=a("ade3"),s=a("9ab4"),n=a("1b40"),l=a("6b98");let o=class extends l["a"]{constructor(...t){super(...t),Object(i["a"])(this,"characters",void 0),Object(i["a"])(this,"value",void 0),Object(i["a"])(this,"showTitle",void 0),Object(i["a"])(this,"clearable",void 0)}get character(){return this.value}set character(t){}change(t){return t}};Object(s["b"])([Object(n["c"])({type:Array,default:()=>[]})],o.prototype,"characters",void 0),Object(s["b"])([Object(n["c"])()],o.prototype,"value",void 0),Object(s["b"])([Object(n["c"])({type:Boolean,default:!0})],o.prototype,"showTitle",void 0),Object(s["b"])([Object(n["c"])({type:Boolean,default:!0})],o.prototype,"clearable",void 0),Object(s["b"])([Object(n["b"])("change"),Object(n["b"])("input")],o.prototype,"change",null),o=Object(s["b"])([Object(n["a"])({components:{}})],o);var u=o,p=u,h=a("2877"),f=Object(h["a"])(p,r,c,!1,null,null,null);e["a"]=f.exports},cce3:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-enhance-quality"},[a("div",{staticClass:"left"},[a("div",{staticClass:"experience-items"},t._l(t.blazeArtExpItems,(function(e){return a("div",{staticClass:"experience-item",on:{click:function(a){return t.onClickAddItem(e)}}},[a("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[a("img",{staticClass:"icon-small",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0),a("br"),a("br"),a("div",{staticClass:"items"},t._l(t.items,(function(e,r){return a("div",{staticClass:"item",on:{click:function(e){return t.onClickRemoveItem(r)}}},[a("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[a("img",{staticClass:"icon-middle",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0)]),a("div",{staticClass:"right"},[a("div",{staticClass:"character"},[a("CharacterSelector",{attrs:{characters:t.dataManager.charactersCanBattle,showTitle:!1,clearable:!1},model:{value:t.characterDf,callback:function(e){t.characterDf=e},expression:"characterDf"}}),a("img",{staticClass:"icon-large",attrs:{src:t.character.icon,alt:t.character.NAME}})],1),a("div",{staticClass:"blaze-art"},[a("div",{staticClass:"orginal-item__edit"},[a("span",[t._v(t._s(t.$t("レベル")))]),a("el-input-number",{attrs:{size:"mini",min:1,max:t.character.maxBlazeArtLevel,step:1,"step-strictly":""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),a("span",[t._v(t._s(t.$t("あと")))]),a("el-input-number",{attrs:{size:"mini",min:0,max:t.maxExp,step:1,"step-strictly":""},model:{value:t.untilExp,callback:function(e){t.untilExp=e},expression:"untilExp"}})],1),a("br"),t._l([t.expInfo],(function(e){var r=e.level,c=e.totalExp,i=e.untilNextLevel,s=e.overExp;return a("p",[t._v(t._s(t.$t("レベル"))+" "+t._s(r)+" / "+t._s(t.$t("経験値"))+" "+t._s(c)+" / "+t._s(t.$t("あと"))+" "+t._s(i)+" / "+t._s(t.$t("無駄になった経験値"))+" "+t._s(s))])})),a("br"),t._l(t.blazeArt.LV,(function(e,r){return a("p",[t._v(t._s(t.$t("レベル"))+" "+t._s(r+1)+" "+t._s(t.$t("経験値"))+" "+t._s(t.blazeArt.levelExperience(r+1)))])})),a("br"),t._l(t.totalItems,(function(e){var r=e.item,c=e.count;return a("p",{staticClass:"total-item"},[a("img",{staticClass:"icon-small",attrs:{src:r.icon,alt:r.NAME}}),a("span",[t._v("x "+t._s(c)+" "+t._s(t.$t("個"))+" "+t._s(r.SPC[0].SKILL[0].VAL)+" "+t._s(t.$t("経験値")))])])}))],2)])])},c=[],i=a("ade3"),s=(a("13d5"),a("9ab4")),n=a("2fe1"),l=a("5935"),o=a("0063"),u=a.n(o),p=a("6b98"),h=a("f015"),f=a("613e");class b extends p["a"]{constructor(...t){super(...t),Object(i["a"])(this,"level",void 0),Object(i["a"])(this,"untilExp",void 0),Object(i["a"])(this,"characterDf",void 0)}}let v=class extends b{get maxExp(){return this.blazeArt.LV[this.level-1].EXP_PT}get currentExp(){return[...Array(this.level)].reduce((t,e,a)=>t+this.blazeArt.levelExperience(1+a),this.untilExp?this.blazeArt.levelExperience(this.level+1)-this.untilExp:this.untilExp)}get blazeArtExpItems(){return this.dataManager.itemsByCategory[h["g"].eGROW_BLAZE_ARTS]}get experienceItemDfs(){return this.$store.state.blazeArtLeveling.experienceItemDfs}set experienceItemDfs(t){this.$store.commit("blazeArtLeveling/updateExperienceItemDfs",t)}get items(){return this.experienceItemDfs.map(t=>this.dataManager.itemById[t])}get totalItems(){return u.a.from(this.items).groupBy(t=>t.DF).select(t=>({item:t.firstOrDefault(),count:t.count()})).orderBy(t=>t.item.DF).toArray()}get character(){return this.dataManager.characterById[this.characterDf]}get blazeArt(){return this.dataManager.blazeArtById[this.character.BA[0].DF]}get totalItemExp(){return this.items.map(t=>t.SPC).flat().map(t=>t.SKILL).flat().reduce((t,e)=>t+e.VAL,0)}get expInfo(){let t=this.currentExp+this.totalItemExp;for(const[e,{EXP_PT:a}]of this.blazeArt.LV.entries())if(t-=a,t<0)return{level:e+1,totalExp:this.totalItemExp,untilNextLevel:Math.abs(t),overExp:0};return{level:this.blazeArt.LV.length,totalExp:this.totalItemExp||this.blazeArt.LV.reduce((t,e)=>t+e.EXP_PT,0),untilNextLevel:0,overExp:this.blazeArt.LV.reduce((t,e)=>t+e.EXP_PT,0)-(this.currentExp+this.totalItemExp)}}beforeMount(){this.characterDf||(this.characterDf=5014)}onClickAddItem(t){this.experienceItemDfs.push(t.DF)}onClickRemoveItem(t){this.experienceItemDfs.splice(t,1)}};v=Object(s["b"])([Object(n["b"])({components:{CharacterSelector:f["a"]},computed:{...Object(l["b"])("blazeArtLeveling",["level","untilExp","characterDf"])}})],v);var m=v,d=m,x=(a("48b0"),a("2877")),g=Object(x["a"])(d,r,c,!1,null,"5d1d92dc",null);e["default"]=g.exports}}]);