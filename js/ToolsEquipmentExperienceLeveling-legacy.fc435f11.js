(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsEquipmentExperienceLeveling"],{"0742":function(e,t,n){},"177e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2909"),r=n("d4ec"),a=n("bee2"),c=n("ade3"),s=(n("c740"),n("d81d"),n("d3b7"),n("ddb0"),n("acb1")),u=n("2ef0"),l=new s["a"];l.G=3,l.M=2e4,l.R=60,l.B=1;var o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"compose",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e.formula.getValue(t),c=r?e.formula.getValue(i+1)-e.formula.getValue(i)-r:0,s=e.formula.getValue(i)+c,l=n+s,o=l>=a,m=function(){return o?t:n?e.experiences.findIndex((function(e){return e>l})):i}();return{targetLevel:m,untilNext:m===t?0:e.formula.getValue(m+1)-e.formula.getValue(m)-(l-e.formula.getValue(m)),totalExperience:Object(u["clamp"])(l,0,a),overExp:l<=a?0:l-a}}}],[{key:"experiences",get:function(){var e=this;return Object(i["a"])(Array(80).keys()).map((function(e){return e+1})).map((function(t){return e.formula.getValue(t)}))}}]),e}();Object(c["a"])(o,"formula",l)},3459:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-enhance-quality"},[n("div",{staticClass:"left"},[n("div",{staticClass:"experience-items"},e._l(e.equipmentExpItems,(function(t){return n("div",{staticClass:"experience-item",on:{click:function(n){return e.onClickAddItem(t)}}},[n("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[n("img",{staticClass:"icon-small",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0),n("br"),n("br"),n("div",{staticClass:"items"},e._l(e.items,(function(t,i){return n("div",{staticClass:"item",on:{click:function(t){return e.onClickRemoveItem(i)}}},[n("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[n("img",{staticClass:"icon-middle",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0)]),n("div",{staticClass:"right"},[n("div",[n("img",{staticClass:"icon-large",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_20010002.png",alt:e.$t("アイテム")}})]),n("div",[n("div",{staticClass:"orginal-item__edit"},[n("span",[e._v(e._s(e.$t("レベル")))]),n("el-input-number",{attrs:{size:"mini",min:1,max:60,step:1,"step-strictly":""},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),n("span",[e._v(e._s(e.$t("あと")))]),n("el-input-number",{attrs:{size:"mini",min:0,max:e.maxExp,step:1,"step-strictly":""},model:{value:e.untilExp,callback:function(t){e.untilExp=t},expression:"untilExp"}})],1),n("br")]),n("div",{staticClass:"result"},[e._l([e.result],(function(t){return n("table",[n("tr",[n("th",[e._v(e._s(e.$t("目標レベル")))]),n("td",[e._v(e._s(t.targetLevel))])]),n("tr",[n("th",[e._v(e._s(e.$t("あと")))]),n("td",[e._v(e._s(t.untilNext))])]),n("tr",[n("th",[e._v(e._s(e.$t("経験値")))]),n("td",[e._v(e._s(t.totalExperience))])]),n("tr",[n("th",[e._v(e._s(e.$t("無駄になった経験値")))]),n("td",[e._v(e._s(t.overExp))])])])})),n("br"),e._l(e.totalItems,(function(t){var i=t.item,r=t.count;return n("p",{staticClass:"total-item"},[n("img",{staticClass:"icon-small",attrs:{src:i.icon,alt:i.NAME}}),n("span",[e._v("x "+e._s(r)+" "+e._s(e.$t("個"))+" "+e._s(i.SPC[0].SKILL[0].VAL)+" "+e._s(e.$t("経験値")))])])}))],2)])])},r=[],a=n("5530"),c=n("bee2"),s=n("d4ec"),u=n("257e"),l=n("262e"),o=n("2caf"),m=n("ade3"),f=(n("99af"),n("d81d"),n("a434"),n("9ab4")),p=n("2fe1"),d=n("5935"),v=n("0063"),g=n.n(v),b=n("6b98"),x=n("f015"),h=n("177e"),_=function(e){Object(l["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;Object(s["a"])(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),Object(m["a"])(Object(u["a"])(e),"level",void 0),Object(m["a"])(Object(u["a"])(e),"untilExp",void 0),e}return n}(b["a"]),y=function(e){Object(l["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"EquipmentExperience",get:function(){return h["a"]}},{key:"equipmentExpItems",get:function(){return this.dataManager.itemsByCategory[x["g"].eGROW_OTHER]}},{key:"experienceItemDfs",get:function(){return this.$store.state.equipmentLeveling.experienceItemDfs},set:function(e){this.$store.commit("equipmentLeveling/updateExperienceItemDfs",e)}},{key:"items",get:function(){var e=this;return this.experienceItemDfs.map((function(t){return e.dataManager.itemById[t]}))}},{key:"maxExp",get:function(){return h["a"].formula.getValue(this.level+1)-h["a"].formula.getValue(this.level)}},{key:"itemExperiences",get:function(){return this.items.map((function(e){return e.SPC[0].SKILL[0].VAL})).reduce((function(e,t){return e+t}),0)}},{key:"result",get:function(){return(new h["a"]).compose(60,this.itemExperiences,this.level,this.untilExp)}},{key:"totalItems",get:function(){return g.a.from(this.items).groupBy((function(e){return e.DF})).select((function(e){return{item:e.firstOrDefault(),count:e.count()}})).orderBy((function(e){return e.item.DF})).toArray()}},{key:"onClickAddItem",value:function(e){this.experienceItemDfs.push(e.DF)}},{key:"onClickRemoveItem",value:function(e){this.experienceItemDfs.splice(e,1)}}]),n}(_);y=Object(f["b"])([Object(p["b"])({components:{},computed:Object(a["a"])({},Object(d["b"])("equipmentLeveling",["level","untilExp"]))})],y);var E=y,O=E,k=(n("87d8"),n("2877")),C=Object(k["a"])(O,i,r,!1,null,"3146d2ea",null);t["default"]=C.exports},"87d8":function(e,t,n){"use strict";n("0742")},a434:function(e,t,n){"use strict";var i=n("23e7"),r=n("23cb"),a=n("a691"),c=n("50c4"),s=n("7b0b"),u=n("65f0"),l=n("8418"),o=n("1dde"),m=o("splice"),f=Math.max,p=Math.min,d=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,i,o,m,g,b,x=s(this),h=c(x.length),_=r(e,h),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=h-_):(n=y-2,i=p(f(a(t),0),h-_)),h+n-i>d)throw TypeError(v);for(o=u(x,i),m=0;m<i;m++)g=_+m,g in x&&l(o,m,x[g]);if(o.length=i,n<i){for(m=_;m<h-i;m++)g=m+i,b=m+n,g in x?x[b]=x[g]:delete x[b];for(m=h;m>h-i+n;m--)delete x[m-1]}else if(n>i)for(m=h-i;m>_;m--)g=m+i-1,b=m+n-1,g in x?x[b]=x[g]:delete x[b];for(m=0;m<n;m++)x[m+_]=arguments[m+2];return x.length=h-i+n,o}})},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),c="findIndex",s=!0;c in[]&&Array(1)[c]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)}}]);