(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsItemEnhanceQuality"],{a434:function(e,t,i){"use strict";var n=i("23e7"),r=i("23cb"),a=i("a691"),s=i("50c4"),c=i("7b0b"),l=i("65f0"),u=i("8418"),o=i("1dde"),f=i("ae40"),p=o("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,d=Math.min,v=9007199254740991,x="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!h},{splice:function(e,t){var i,n,o,f,p,h,m=c(this),b=s(m.length),g=r(e,b),O=arguments.length;if(0===O?i=n=0:1===O?(i=0,n=b-g):(i=O-2,n=d(y(a(t),0),b-g)),b+i-n>v)throw TypeError(x);for(o=l(m,n),f=0;f<n;f++)p=g+f,p in m&&u(o,f,m[p]);if(o.length=n,i<n){for(f=g;f<b-n;f++)p=f+n,h=f+i,p in m?m[h]=m[p]:delete m[h];for(f=b;f>b-n+i;f--)delete m[f-1]}else if(i>n)for(f=b-n;f>g;f--)p=f+n-1,h=f+i-1,p in m?m[h]=m[p]:delete m[h];for(f=0;f<i;f++)m[f+g]=arguments[f+2];return m.length=b-n+i,o}})},b5cd:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item-enhance-quality"},[i("div",{staticClass:"left"},[i("div",{staticClass:"filters"},[i("div",{staticClass:"filter"},[i("span",[e._v(e._s(e.$t("品質")))]),i("el-input-number",{attrs:{size:"small",min:1,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}}),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.add}},[e._v("+")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setAll}},[e._v(e._s(e.$t("まとめで設定")))]),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:e.removeAll}})],1)]),i("div",{staticClass:"items"},e._l(e.qualities,(function(t,n){return i("div",{staticClass:"item"},[i("div",[i("el-input-number",{attrs:{size:"mini",min:1,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:t.quality,callback:function(i){e.$set(t,"quality",i)},expression:"quality.quality"}})],1),i("el-tooltip",{attrs:{effect:"light",content:""+e.$t("品質")+e.$t("経験値")+" "+t,placement:"right"}},[i("div",{staticClass:"item__icon",on:{click:function(t){return e.remove(n)}}},[i("img",{staticClass:"icon-small",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_10020003.png",alt:e.$t("アイテム")}})])])],1)})),0)]),i("div",{staticClass:"right"},[i("div",{staticClass:"orginal-item"},[i("img",{attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_10020003.png",alt:e.$t("アイテム")}}),i("div",{staticClass:"orginal-item__edit"},[i("span",[e._v(e._s(e.$t("品質")))]),i("el-input-number",{attrs:{size:"mini",min:1,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:e.originalQuality,callback:function(t){e.originalQuality=t},expression:"originalQuality"}}),i("span",[e._v(e._s(e.$t("次まで")))]),i("el-input-number",{attrs:{size:"mini",min:0,max:e.maxNextLevel,step:1,"step-strictly":""},model:{value:e.untilNextQuality,callback:function(t){e.untilNextQuality=t},expression:"untilNextQuality"}})],1),i("div",{staticClass:"after-item"},[i("div",[e._v("x"+e._s(e.qualities.length)+e._s(e.$t("個"))+" / "+e._s(e.$t("品質"))+" "+e._s(e.result.quality)+" / "+e._s(e.$t("次まで"))+" "+e._s(e.result.untilNext)+" / "+e._s(e.$t("品質"))+e._s(e.$t("経験値"))+" "+e._s(e.result))])])])])])},r=[],a=(i("a434"),i("5530")),s=(i("96cf"),i("1da1")),c=i("b85c"),l=i("bee2"),u=i("d4ec"),o=i("262e"),f=i("2caf"),p=i("9ab4"),h=i("2fe1"),y=i("0aea"),d=i("5935"),v=(i("c740"),i("d3b7"),i("25f0"),i("4ec9"),i("3ca3"),i("ddb0"),i("7e84")),x=i("b380");i("c975");function m(e){return-1!==Function.toString.call(e).indexOf("[native code]")}i("4ae1");var b=i("d967");function g(e,t,i){return g=Object(b["a"])()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=Function.bind.apply(e,n),a=new r;return i&&Object(x["a"])(a,i.prototype),a},g.apply(null,arguments)}function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||!m(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return g(e,arguments,Object(v["a"])(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(x["a"])(i,e)},O(e)}var _=i("2ef0"),q=function(e){Object(o["a"])(i,e);var t=Object(f["a"])(i);function i(){return Object(u["a"])(this,i),t.apply(this,arguments)}return i}(O(Error)),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.experiences[0];Object(u["a"])(this,e),this.experience=0,this.setExperience(t)}return Object(l["a"])(e,[{key:"setExperience",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.experiences[0];return this.experience=t,this}},{key:"setQuality",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<=0||!e.experiences[t-1])throw new q;return this.experience=e.experiences[t-1],i&&!this.isMaxLevel&&(this.experience+=e.experiences[this.quality]-e.experiences[this.quality-1]-i),this}},{key:"addExperience",value:function(e){return this.experience+=e,this}},{key:"addExperiences",value:function(e){return this.experience+=Object(_["sum"])(e),this}},{key:"valueOf",value:function(){return Object(_["clamp"])(this.experience,e.experiences[0],e.experiences[e.experiences.length-1])}},{key:"toString",value:function(){return this.valueOf().toString()}},{key:"isMaxLevel",get:function(){return this.experience>=e.experiences[e.experiences.length-1]}},{key:"quality",get:function(){var t=this;return this.isMaxLevel?e.experiences.length:e.experiences.findIndex((function(e){return e>t.experience}))},set:function(e){this.setQuality(e)}},{key:"leftover",get:function(){return this.experience-e.experiences[this.quality-1]}},{key:"untilNext",get:function(){if(this.isMaxLevel)return 0;var t=this.quality;return e.experiences[t]-e.experiences[t-1]-this.leftover}}]),e}();k.experiences=[1,2,3,4,5,6,7,8,9,10,11,12,14,17,21,26,34,46,61,81,108,142,187,244,315,403,513,647,810,1008,1245,1528,1864,2261,2728,3275,3911,4650,5503,6486,7613,8903,10372,12043,13935,16074,18484,21193,24232,27631,31425,35651,40349,45560,51331,57707,64742,72490,81008,90358,100606,111820,124075,137448,152021,167880,185117,203829,224118,246089,269856,295538,323258,353147,385343,419988,457232,497235,540159,586179,635473,688231,744649,804931,869293,937956,1011154,1089129,1172133,1260427,1354286,1453992,1559840,1672137,1791200,1917359,2050957,2192349,2341902,25e5,2625599,2751565,2877657,3003832,3130048,3256265,3382440,3508352,3634499,3760299,3885891,4011232,4136282,4260998,4385339,4509262,4632727,4755692,4878114,4999953];var j=i("6f7e"),Q=function(e){Object(o["a"])(i,e);var t=Object(f["a"])(i);function i(){return Object(u["a"])(this,i),t.apply(this,arguments)}return i}(y["a"]),w=function(e){Object(o["a"])(i,e);var t=Object(f["a"])(i);function i(){return Object(u["a"])(this,i),t.apply(this,arguments)}return Object(l["a"])(i,[{key:"add",value:function(){return this.qualities.push((new k).setQuality(this.quality)),this.$forceUpdate()}},{key:"setAll",value:function(){var e,t=Object(c["a"])(this.qualities);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.quality=this.quality}}catch(n){t.e(n)}finally{t.f()}}},{key:"remove",value:function(e){this.qualities.splice(e,1)}},{key:"removeAll",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("".concat(this.$t("すべてをクリアしてもよろしいですか"),"?"),"",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});case 2:this.qualities=[];case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeMount",value:function(){!this.qualities.length||this.qualities[0]instanceof k||(this.qualities=Object(j["plainToClass"])(k,this.qualities))}},{key:"Quality",get:function(){return k}},{key:"qualities",get:function(){return this.$store.state.itemEnhanceQuality.qualities},set:function(e){this.$store.commit("itemEnhanceQuality/updateQualities",e)}},{key:"maxNextLevel",get:function(){return k.experiences[this.originalQuality]-k.experiences[this.originalQuality-1]||0}},{key:"result",get:function(){return(new k).setQuality(this.originalQuality||1,this.untilNextQuality).addExperiences(this.qualities)}}]),i}(Q);w=Object(p["b"])([Object(h["a"])({components:{},computed:Object(a["a"])({},Object(d["b"])("itemEnhanceQuality",["quality","originalQuality","untilNextQuality"]))})],w);var $=w,C=$,E=(i("ef9f"),i("2877")),A=Object(E["a"])(C,n,r,!1,null,"2e352ac8",null);t["default"]=A.exports},c740:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").findIndex,a=i("44d2"),s=i("ae40"),c="findIndex",l=!0,u=s(c);c in[]&&Array(1)[c]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!u},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},c975:function(e,t,i){"use strict";var n=i("23e7"),r=i("4d64").indexOf,a=i("a640"),s=i("ae40"),c=[].indexOf,l=!!c&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),o=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!u||!o},{indexOf:function(e){return l?c.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},ef9f:function(e,t,i){"use strict";i("f423")},f423:function(e,t,i){}}]);