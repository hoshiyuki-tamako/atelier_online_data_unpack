(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsBlazeArtLeveling"],{"0ca3":function(t,e,a){},"1b40":function(t,e,a){"use strict";a.d(e,"a",(function(){return r["b"]})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return f}));var r=a("2fe1"),n=function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<a;e++)for(var c=arguments[e],i=0,l=c.length;i<l;i++,n++)r[n]=c[i];return r},c=/\B([A-Z])/g,i=function(t){return t.replace(c,"-$1").toLowerCase()};function l(t){return function(e,a,r){var c=i(a),l=r.value;r.value=function(){for(var e=this,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var i=function(r){var i=t||c;void 0===r?0===a.length?e.$emit(i):1===a.length?e.$emit(i,a[0]):e.$emit.apply(e,n([i],a)):(a.unshift(r),e.$emit.apply(e,n([i],a)))},o=l.apply(this,a);return s(o)?o.then(i):i(o),o}}}function s(t){return t instanceof Promise||t&&"function"===typeof t.then}var o="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function u(t,e,a){if(o&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,a);r!==Object&&(t.type=r)}}function f(t){return void 0===t&&(t={}),function(e,a){u(t,e,a),Object(r["a"])((function(e,a){(e.props||(e.props={}))[a]=t}))(e,a)}}},"48b0":function(t,e,a){"use strict";a("0ca3")},"613e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[t.showTitle?a("span",[t._v(t._s(t.$t("キャラクター")))]):t._e(),a("el-select",{attrs:{clearable:t.clearable,placeholder:"",filterable:""},on:{change:t.change},model:{value:t.character,callback:function(e){t.character=e},expression:"character"}},t._l(t.characters,(function(e,r){return a("el-option",{key:r,attrs:{label:e.NAME,value:e.DF}},[e.hasFaceIcon?a("img",{staticClass:"option-image",attrs:{src:e.faceIcon,alt:e.NAME}}):e.hasIcon?a("img",{staticClass:"option-image",attrs:{src:e.icon,alt:e.NAME}}):t._e(),a("span",{staticClass:"option-text"},[t._v(t._s(e.NAME))])])})),1)],1)},n=[],c=a("d4ec"),i=a("bee2"),l=a("257e"),s=a("262e"),o=a("2caf"),u=a("ade3"),f=(a("99af"),a("9ab4")),p=a("1b40"),b=a("6b98"),h=function(t){Object(s["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;Object(c["a"])(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n)),Object(u["a"])(Object(l["a"])(t),"characters",void 0),Object(u["a"])(Object(l["a"])(t),"value",void 0),Object(u["a"])(Object(l["a"])(t),"showTitle",void 0),Object(u["a"])(Object(l["a"])(t),"clearable",void 0),t}return Object(i["a"])(a,[{key:"character",get:function(){return this.value},set:function(t){}},{key:"change",value:function(t){return t}}]),a}(b["a"]);Object(f["b"])([Object(p["c"])({type:Array,default:function(){return[]}})],h.prototype,"characters",void 0),Object(f["b"])([Object(p["c"])()],h.prototype,"value",void 0),Object(f["b"])([Object(p["c"])({type:Boolean,default:!0})],h.prototype,"showTitle",void 0),Object(f["b"])([Object(p["c"])({type:Boolean,default:!0})],h.prototype,"clearable",void 0),Object(f["b"])([Object(p["b"])("change"),Object(p["b"])("input")],h.prototype,"change",null),h=Object(f["b"])([Object(p["a"])({components:{}})],h);var v=h,d=v,m=a("2877"),y=Object(m["a"])(d,r,n,!1,null,null,null);e["a"]=y.exports},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),c=a("a691"),i=a("50c4"),l=a("7b0b"),s=a("65f0"),o=a("8418"),u=a("1dde"),f=u("splice"),p=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var a,r,u,f,d,m,y=l(this),g=i(y.length),x=n(t,g),O=arguments.length;if(0===O?a=r=0:1===O?(a=0,r=g-x):(a=O-2,r=b(p(c(e),0),g-x)),g+a-r>h)throw TypeError(v);for(u=s(y,r),f=0;f<r;f++)d=x+f,d in y&&o(u,f,y[d]);if(u.length=r,a<r){for(f=x;f<g-r;f++)d=f+r,m=f+a,d in y?y[m]=y[d]:delete y[m];for(f=g;f>g-r+a;f--)delete y[f-1]}else if(a>r)for(f=g-r;f>x;f--)d=f+r-1,m=f+a-1,d in y?y[m]=y[d]:delete y[m];for(f=0;f<a;f++)y[f+x]=arguments[f+2];return y.length=g-r+a,u}})},cce3:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-enhance-quality"},[a("div",{staticClass:"left"},[a("div",{staticClass:"experience-items"},t._l(t.blazeArtExpItems,(function(e){return a("div",{staticClass:"experience-item",on:{click:function(a){return t.onClickAddItem(e)}}},[a("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[a("img",{staticClass:"icon-small",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0),a("br"),a("br"),a("div",{staticClass:"items"},t._l(t.items,(function(e,r){return a("div",{staticClass:"item",on:{click:function(e){return t.onClickRemoveItem(r)}}},[a("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[a("img",{staticClass:"icon-middle",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0)]),a("div",{staticClass:"right"},[a("div",{staticClass:"character"},[a("CharacterSelector",{attrs:{characters:t.dataManager.charactersCanBattle,showTitle:!1,clearable:!1},model:{value:t.characterDf,callback:function(e){t.characterDf=e},expression:"characterDf"}}),a("img",{staticClass:"icon-large",attrs:{src:t.character.icon,alt:t.character.NAME}})],1),a("div",{staticClass:"blaze-art"},[a("div",{staticClass:"orginal-item__edit"},[a("span",[t._v(t._s(t.$t("レベル")))]),a("el-input-number",{attrs:{size:"mini",min:1,max:t.character.maxBlazeArtLevel,step:1,"step-strictly":""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),a("span",[t._v(t._s(t.$t("あと")))]),a("el-input-number",{attrs:{size:"mini",min:0,max:t.maxExp,step:1,"step-strictly":""},model:{value:t.untilExp,callback:function(e){t.untilExp=e},expression:"untilExp"}})],1),a("br"),t._l([t.expInfo],(function(e){var r=e.level,n=e.totalExp,c=e.untilNextLevel,i=e.overExp;return a("p",[t._v(t._s(t.$t("レベル"))+" "+t._s(r)+" / "+t._s(t.$t("経験値"))+" "+t._s(n)+" / "+t._s(t.$t("あと"))+" "+t._s(c)+" / "+t._s(t.$t("無駄になった経験値"))+" "+t._s(i))])})),a("br"),t._l(t.blazeArt.LV,(function(e,r){return a("p",[t._v(t._s(t.$t("レベル"))+" "+t._s(r+1)+" "+t._s(t.$t("経験値"))+" "+t._s(t.blazeArt.levelExperience(r+1)))])})),a("br"),t._l(t.totalItems,(function(e){var r=e.item,n=e.count;return a("p",{staticClass:"total-item"},[a("img",{staticClass:"icon-small",attrs:{src:r.icon,alt:r.NAME}}),a("span",[t._v("x "+t._s(n)+" "+t._s(t.$t("個"))+" "+t._s(r.SPC[0].SKILL[0].VAL)+" "+t._s(t.$t("経験値")))])])}))],2)])])},n=[],c=a("5530"),i=a("3835"),l=a("b85c"),s=a("2909"),o=a("bee2"),u=a("d4ec"),f=a("257e"),p=a("262e"),b=a("2caf"),h=a("ade3"),v=(a("99af"),a("d81d"),a("0481"),a("d3b7"),a("ddb0"),a("a434"),a("9ab4")),d=a("2fe1"),m=a("5935"),y=a("0063"),g=a.n(y),x=a("6b98"),O=a("f015"),j=a("613e"),_=function(t){Object(p["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(u["a"])(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n)),Object(h["a"])(Object(f["a"])(t),"level",void 0),Object(h["a"])(Object(f["a"])(t),"untilExp",void 0),Object(h["a"])(Object(f["a"])(t),"characterDf",void 0),t}return a}(x["a"]),E=function(t){Object(p["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(u["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"maxExp",get:function(){return this.blazeArt.LV[this.level-1].EXP_PT}},{key:"currentExp",get:function(){var t=this;return Object(s["a"])(Array(this.level)).reduce((function(e,a,r){return e+t.blazeArt.levelExperience(1+r)}),this.untilExp?this.blazeArt.levelExperience(this.level+1)-this.untilExp:this.untilExp)}},{key:"blazeArtExpItems",get:function(){return this.dataManager.itemsByCategory[O["g"].eGROW_BLAZE_ARTS]}},{key:"experienceItemDfs",get:function(){return this.$store.state.blazeArtLeveling.experienceItemDfs},set:function(t){this.$store.commit("blazeArtLeveling/updateExperienceItemDfs",t)}},{key:"items",get:function(){var t=this;return this.experienceItemDfs.map((function(e){return t.dataManager.itemById[e]}))}},{key:"totalItems",get:function(){return g.a.from(this.items).groupBy((function(t){return t.DF})).select((function(t){return{item:t.firstOrDefault(),count:t.count()}})).orderBy((function(t){return t.item.DF})).toArray()}},{key:"character",get:function(){return this.dataManager.characterById[this.characterDf]}},{key:"blazeArt",get:function(){return this.dataManager.blazeArtById[this.character.BA[0].DF]}},{key:"totalItemExp",get:function(){return this.items.map((function(t){return t.SPC})).flat().map((function(t){return t.SKILL})).flat().reduce((function(t,e){return t+e.VAL}),0)}},{key:"expInfo",get:function(){var t,e=this.currentExp+this.totalItemExp,a=Object(l["a"])(this.blazeArt.LV.entries());try{for(a.s();!(t=a.n()).done;){var r=Object(i["a"])(t.value,2),n=r[0],c=r[1].EXP_PT;if(e-=c,e<0)return{level:n+1,totalExp:this.totalItemExp,untilNextLevel:Math.abs(e),overExp:0}}}catch(s){a.e(s)}finally{a.f()}return{level:this.blazeArt.LV.length,totalExp:this.totalItemExp||this.blazeArt.LV.reduce((function(t,e){return t+e.EXP_PT}),0),untilNextLevel:0,overExp:this.blazeArt.LV.reduce((function(t,e){return t+e.EXP_PT}),0)-(this.currentExp+this.totalItemExp)}}},{key:"beforeMount",value:function(){this.characterDf||(this.characterDf=5014)}},{key:"onClickAddItem",value:function(t){this.experienceItemDfs.push(t.DF)}},{key:"onClickRemoveItem",value:function(t){this.experienceItemDfs.splice(t,1)}}]),a}(_);E=Object(v["b"])([Object(d["b"])({components:{CharacterSelector:j["a"]},computed:Object(c["a"])({},Object(m["b"])("blazeArtLeveling",["level","untilExp","characterDf"]))})],E);var A=E,C=A,I=(a("48b0"),a("2877")),k=Object(I["a"])(C,r,n,!1,null,"5d1d92dc",null);e["default"]=k.exports}}]);