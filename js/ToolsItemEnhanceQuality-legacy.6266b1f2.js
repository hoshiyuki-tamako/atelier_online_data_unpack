(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsItemEnhanceQuality"],{"21c6":function(e,t,i){},"38cf":function(e,t,i){var n=i("23e7"),s=i("1148");n({target:"String",proto:!0},{repeat:s})},"9b3c":function(e,t,i){"use strict";i("21c6")},a434:function(e,t,i){"use strict";var n=i("23e7"),s=i("23cb"),a=i("a691"),r=i("50c4"),c=i("7b0b"),l=i("65f0"),u=i("8418"),o=i("1dde"),p=o("splice"),f=Math.max,h=Math.min,x=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var i,n,o,p,g,y,d=c(this),b=r(d.length),m=s(e,b),_=arguments.length;if(0===_?i=n=0:1===_?(i=0,n=b-m):(i=_-2,n=h(f(a(t),0),b-m)),b+i-n>x)throw TypeError(v);for(o=l(d,n),p=0;p<n;p++)g=m+p,g in d&&u(o,p,d[g]);if(o.length=n,i<n){for(p=m;p<b-n;p++)g=p+n,y=p+i,g in d?d[y]=d[g]:delete d[y];for(p=b;p>b-n+i;p--)delete d[p-1]}else if(i>n)for(p=b-n;p>m;p--)g=p+n-1,y=p+i-1,g in d?d[y]=d[g]:delete d[y];for(p=0;p<i;p++)d[p+m]=arguments[p+2];return d.length=b-n+i,o}})},b5cd:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item-enhance-quality"},[i("div",{staticClass:"left"},[i("div",{staticClass:"filters"},[i("div",{staticClass:"filter"},[i("span",[e._v(e._s(e.$t("品質")))]),i("el-input-number",{attrs:{size:"small",min:10,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}}),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.add}},[e._v("+")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setAll}},[e._v(e._s(e.$t("まとめで設定")))]),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:e.removeAll}})],1)]),i("div",{staticClass:"items"},e._l(e.qualities,(function(t,n){return i("div",{staticClass:"item"},[i("div",[i("el-input-number",{attrs:{size:"mini",min:10,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:t.quality,callback:function(i){e.$set(t,"quality",i)},expression:"quality.quality"}})],1),i("el-tooltip",{attrs:{effect:"light",content:e.$t("品質経験値")+" "+t,placement:"right"}},[i("div",{staticClass:"item__icon",on:{click:function(t){return e.remove(n)}}},[i("img",{staticClass:"icon-small",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_10020003.png",alt:e.$t("アイテム")}})])])],1)})),0)]),i("div",{staticClass:"right"},[i("div",{staticClass:"orginal-item"},[i("img",{attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_10020003.png",alt:e.$t("アイテム")}}),i("div",{staticClass:"orginal-item__edit"},[i("span",[e._v(e._s(e.$t("品質")))]),i("el-input-number",{attrs:{size:"mini",min:10,max:e.Quality.experiences.length,step:1,"step-strictly":""},model:{value:e.originalQuality,callback:function(t){e.originalQuality=t},expression:"originalQuality"}}),i("span",[e._v(e._s(e.$t("あと")))]),i("el-input-number",{attrs:{size:"mini",min:0,max:e.maxNextLevel,step:1,"step-strictly":""},model:{value:e.untilNextQuality,callback:function(t){e.untilNextQuality=t},expression:"untilNextQuality"}})],1),e._l([e.result],(function(t){return i("div",{staticClass:"after-item"},[i("table",[i("tr",[i("th",[e._v(e._s(e.$t("目標品質")))]),i("td",[e._v(e._s(t.quality))])]),i("tr",[i("th",[e._v(e._s(e.$t("あと")))]),i("td",[e._v(e._s(t.untilNext))])]),i("tr",[i("th",[e._v(e._s(e.$t("品質経験値")))]),i("td",[e._v(e._s(t))])])]),i("br"),i("p",[i("small",[e._v(e._s(e.$t("※装備品質上げには大成功ありません")))])]),i("br"),i("h4",{staticClass:"big-success__title"},[e._v(e._s(e.$t("大成功")))]),i("table",{staticClass:"big-success__table"},[i("tr",[i("th",[e._v(e._s(e.$t("目標品質")))]),i("td",[e._v(e._s(t.qualityBigSuccess))])]),i("tr",[i("th",[e._v(e._s(e.$t("あと")))]),i("td",[e._v(e._s(t.untilNextBigSuccess))])]),i("tr",[i("th",[e._v(e._s(e.$t("品質経験値")))]),i("td",[e._v(e._s(t.valueOfBigSuccess()))])])]),i("br"),i("p",{staticClass:"total-item"},[i("img",{staticClass:"icon-small",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_10020003.png",alt:e.$t("アイテム")}}),i("span",[e._v("x"+e._s(e.qualities.length)+" "+e._s(e.$t("個")))])])])}))],2)])])},s=[],a=i("5530"),r=i("1da1"),c=i("b85c"),l=i("bee2"),u=i("d4ec"),o=i("257e"),p=i("262e"),f=i("2caf"),h=i("ade3"),x=(i("96cf"),i("99af"),i("a434"),i("9ab4")),v=i("2fe1"),g=i("5935"),y=i("6f7e"),d=i("6b98"),b=i("da70"),m=function(e){Object(p["a"])(i,e);var t=Object(f["a"])(i);function i(){var e;Object(u["a"])(this,i);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),Object(h["a"])(Object(o["a"])(e),"quality",void 0),Object(h["a"])(Object(o["a"])(e),"originalQuality",void 0),Object(h["a"])(Object(o["a"])(e),"untilNextQuality",void 0),e}return i}(d["a"]),_=function(e){Object(p["a"])(i,e);var t=Object(f["a"])(i);function i(){return Object(u["a"])(this,i),t.apply(this,arguments)}return Object(l["a"])(i,[{key:"Quality",get:function(){return b["a"]}},{key:"qualities",get:function(){return this.$store.state.itemEnhanceQuality.qualities},set:function(e){this.$store.commit("itemEnhanceQuality/updateQualities",e)}},{key:"maxNextLevel",get:function(){return b["a"].experiences[this.originalQuality]-b["a"].experiences[this.originalQuality-1]||0}},{key:"result",get:function(){return(new b["a"]).setQuality(this.originalQuality||1,this.untilNextQuality).addExperiences(this.qualities)}},{key:"add",value:function(){return this.qualities.push((new b["a"]).setQuality(this.quality)),this.$forceUpdate()}},{key:"setAll",value:function(){var e,t=Object(c["a"])(this.qualities);try{for(t.s();!(e=t.n()).done;){var i=e.value;i.quality=this.quality}}catch(n){t.e(n)}finally{t.f()}}},{key:"remove",value:function(e){this.qualities.splice(e,1)}},{key:"removeAll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("".concat(this.$t("すべてをクリアしてもよろしいですか"),"?"),"",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});case 2:this.qualities=[];case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeMount",value:function(){!this.qualities.length||this.qualities[0]instanceof b["a"]||(this.qualities=Object(y["plainToClass"])(b["a"],this.qualities))}}]),i}(m);_=Object(x["b"])([Object(v["b"])({components:{},computed:Object(a["a"])({},Object(g["b"])("itemEnhanceQuality",["quality","originalQuality","untilNextQuality"]))})],_);var O=_,k=O,q=(i("9b3c"),i("2877")),j=Object(q["a"])(k,n,s,!1,null,"82353d7e",null);t["default"]=j.exports},c740:function(e,t,i){"use strict";var n=i("23e7"),s=i("b727").findIndex,a=i("44d2"),r="findIndex",c=!0;r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a(r)},da70:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var n=i("2909"),s=i("bee2"),a=i("ade3"),r=i("d4ec"),c=i("262e"),l=i("2caf"),u=i("9072"),o=(i("b65f"),i("c740"),i("d3b7"),i("25f0"),i("99af"),i("d81d"),i("ddb0"),i("38cf"),i("acb1")),p=i("2ef0"),f=function(e){Object(c["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(r["a"])(this,i),t.apply(this,arguments)}return i}(Object(u["a"])(Error)),h=new o["a"];h.G=6.5,h.M=25e5,h.R=100,h.B=10;var x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.experiences[0];Object(r["a"])(this,e),Object(a["a"])(this,"originalExperience",0),Object(a["a"])(this,"addOnExperiences",0),this.setExperience(t)}return Object(s["a"])(e,[{key:"experience",get:function(){return this.originalExperience+this.addOnExperiences}},{key:"bigSuccessExperience",get:function(){return this.originalExperience+Math.trunc(1.5*this.addOnExperiences)}},{key:"isOriginalMaxLevel",get:function(){return this.originalExperience>=e.experiences[e.experiences.length-1]}},{key:"isMaxLevel",get:function(){return this.experience>=e.experiences[e.experiences.length-1]}},{key:"isBigSuccessMaxLevel",get:function(){return this.bigSuccessExperience>=e.experiences[e.experiences.length-1]}},{key:"originalQuality",get:function(){var t=this;return this.isOriginalMaxLevel?e.experiences.length:e.experiences.findIndex((function(e){return e>t.originalExperience}))}},{key:"quality",get:function(){var t=this;return this.isMaxLevel?e.experiences.length:e.experiences.findIndex((function(e){return e>t.experience}))},set:function(e){this.setQuality(e)}},{key:"qualityBigSuccess",get:function(){var t=this;return this.isMaxLevel||this.isBigSuccessMaxLevel?e.experiences.length:e.experiences.findIndex((function(e){return e>t.bigSuccessExperience}))}},{key:"leftover",get:function(){return this.experience-e.experiences[this.quality-1]}},{key:"leftoverBigSuccess",get:function(){return this.bigSuccessExperience-e.experiences[this.qualityBigSuccess-1]}},{key:"untilNext",get:function(){if(this.isMaxLevel)return 0;var t=this.quality;return e.experiences[t]-e.experiences[t-1]-this.leftover}},{key:"untilNextBigSuccess",get:function(){if(this.isBigSuccessMaxLevel)return 0;var t=this.qualityBigSuccess;return e.experiences[t]-e.experiences[t-1]-this.leftoverBigSuccess}},{key:"setExperience",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.experiences[0];return this.originalExperience=t,this}},{key:"setQuality",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<=0||!e.experiences[t-1])throw new f;return this.originalExperience=e.experiences[t-1],i&&!this.isMaxLevel&&(this.originalExperience+=e.experiences[this.quality]-e.experiences[this.quality-1]-i),this}},{key:"addExperiences",value:function(e){return this.addOnExperiences+=Object(p["sum"])(e),this}},{key:"valueOf",value:function(){return Object(p["clamp"])(this.experience,e.experiences[0],e.experiences[e.experiences.length-1])}},{key:"valueOfBigSuccess",value:function(){return Object(p["clamp"])(this.bigSuccessExperience,e.experiences[0],e.experiences[e.experiences.length-1])}},{key:"toString",value:function(){return this.valueOf().toString()}}],[{key:"experiences",get:function(){var e=this;return Object(n["a"])(Array(100).keys()).map((function(e){return e+1})).map((function(t){return e.formula.getValue(t)})).concat([2625599,2751565,2877657,3003832,3130048,3256265,3382440,3508352,3634499,3760299,3885891,4011232,4136282,4260998,4385339,4509262,4632727,4755692,4878114,4999953])}}]),e}();Object(a["a"])(x,"formula",h),Object(a["a"])(x,"qualityStars",{10:"⭐".repeat(1),30:"⭐".repeat(2),60:"⭐".repeat(3),80:"⭐".repeat(4),90:"⭐".repeat(5),100:"🌟".repeat(5)})}}]);