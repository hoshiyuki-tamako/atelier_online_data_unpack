(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsBlazeArtLeveling"],{"3d71":function(t,e,s){},"5e19":function(t,e,s){"use strict";s("3d71")},cce3:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-enhance-quality"},[s("div",{staticClass:"left"},[s("div",{staticClass:"experience-items"},t._l(t.blazeArtExpItems,(function(e){return s("div",{staticClass:"experience-item",on:{click:function(s){return t.onClickAddItem(e)}}},[s("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[s("img",{staticClass:"icon-small",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0),s("br"),s("br"),s("div",{staticClass:"items"},t._l(t.items,(function(e,a){return s("div",{staticClass:"item",on:{click:function(e){return t.onClickRemoveItem(a)}}},[s("el-tooltip",{attrs:{content:e.SPC[0].SKILL[0].VAL+" "+t.$t("経験値"),placement:"top"}},[s("img",{staticClass:"icon-middle",attrs:{src:e.icon,alt:e.NAME}})])],1)})),0)]),s("div",{staticClass:"right"},[s("div",{staticClass:"character"},[s("img",{staticClass:"icon-large",attrs:{src:t.character.icon,alt:t.character.NAME}})]),s("div",{staticClass:"blaze-art"},[s("div",[s("span",[t._v(t._s(t.$t("LV")))]),s("el-input-number",{attrs:{size:"mini",min:1,max:t.character.maxBlazeArtLevel,step:1,"step-strictly":""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),s("span",[t._v(t._s(t.$t("あと")))]),s("el-input-number",{attrs:{size:"mini",min:0,max:t.maxExp,step:1,"step-strictly":""},model:{value:t.untilExp,callback:function(e){t.untilExp=e},expression:"untilExp"}})],1),s("br"),t._l([t.expInfo],(function(e){var a=e.level,i=e.totalExp,r=e.untilNextLevel,l=e.overExp;return s("p",[t._v(t._s(t.$t("LV"))+" "+t._s(a)+" / "+t._s(t.$t("経験値"))+" "+t._s(i)+" / "+t._s(t.$t("あと"))+" "+t._s(r)+" / "+t._s(t.$t("無駄になった経験値"))+" "+t._s(l))])})),s("br"),t._l(t.blazeArt.LV,(function(e,a){return s("p",[t._v(t._s(t.$t("LV"))+" "+t._s(a+1)+" "+t._s(t.$t("経験値"))+" "+t._s(t.blazeArt.levelExperience(a+1)))])})),s("br"),t._l(t.totalItems,(function(e){var a=e.item,i=e.count;return s("p",{staticClass:"total-item"},[s("img",{staticClass:"icon-small",attrs:{src:a.icon,alt:a.NAME}}),s("span",[t._v("x "+t._s(i)+" "+t._s(t.$t("個"))+" "+t._s(a.SPC[0].SKILL[0].VAL)+" "+t._s(t.$t("経験値")))])])}))],2)])])},i=[],r=s("ade3"),l=(s("13d5"),s("9ab4")),n=s("2fe1"),c=s("6b98"),o=s("5935"),p=s("f015"),u=s("0063"),m=s.n(u);class h extends c["a"]{constructor(...t){super(...t),Object(r["a"])(this,"level",void 0),Object(r["a"])(this,"untilExp",void 0),Object(r["a"])(this,"characterDf",void 0)}}let x=class extends h{get maxExp(){return this.blazeArt.LV[this.level-1].EXP_PT}get currentExp(){return[...Array(this.level)].reduce((t,e,s)=>t+this.blazeArt.levelExperience(1+s),this.untilExp?this.blazeArt.levelExperience(this.level+1)-this.untilExp:this.untilExp)}get blazeArtExpItems(){return this.dataManager.itemsByCategory[p["g"].eGROW_BLAZE_ARTS]}get experienceItemDfs(){return this.$store.state.blazeArtLeveling.experienceItemDfs}set experienceItemDfs(t){this.$store.commit("blazeArtLeveling/updateExperienceItemDfs",t)}get items(){return this.experienceItemDfs.map(t=>this.dataManager.itemById[t])}get totalItems(){return m.a.from(this.items).groupBy(t=>t.DF).select(t=>({item:t.firstOrDefault(),count:t.count()})).orderBy(t=>t.item.DF).toArray()}get character(){return this.dataManager.characterById[this.characterDf]||this.dataManager.characterById[5014]}get blazeArt(){return this.dataManager.blazeArtById[this.character.BA[0].DF]}get totalItemExp(){return this.items.map(t=>t.SPC).flat().map(t=>t.SKILL).flat().reduce((t,e)=>t+e.VAL,0)}get expInfo(){let t=this.currentExp+this.totalItemExp;for(const[e,{EXP_PT:s}]of this.blazeArt.LV.entries())if(t-=s,t<0)return{level:e+1,totalExp:this.totalItemExp,untilNextLevel:Math.abs(t),overExp:0};return{level:this.blazeArt.LV.length,totalExp:this.totalItemExp||this.blazeArt.LV.reduce((t,e)=>t+e.EXP_PT,0),untilNextLevel:0,overExp:this.blazeArt.LV.reduce((t,e)=>t+e.EXP_PT,0)-(this.currentExp+this.totalItemExp)}}onClickAddItem(t){this.experienceItemDfs.push(t.DF)}onClickRemoveItem(t){this.experienceItemDfs.splice(t,1)}};x=Object(l["b"])([Object(n["b"])({components:{},computed:{...Object(o["b"])("blazeArtLeveling",["level","untilExp","characterDf"])}})],x);var v=x,d=v,b=(s("5e19"),s("2877")),E=Object(b["a"])(d,a,i,!1,null,"74230998",null);e["default"]=E.exports}}]);