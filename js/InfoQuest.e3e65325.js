(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InfoQuest"],{"196b":function(t,e,a){"use strict";a("75ee")},"1b40":function(t,e,a){"use strict";a.d(e,"a",(function(){return r["b"]})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return h}));var r=a("2fe1"),s=function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;var r=Array(t),s=0;for(e=0;e<a;e++)for(var l=arguments[e],i=0,n=l.length;i<n;i++,s++)r[s]=l[i];return r},l=/\B([A-Z])/g,i=function(t){return t.replace(l,"-$1").toLowerCase()};function n(t){return function(e,a,r){var l=i(a),n=r.value;r.value=function(){for(var e=this,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var i=function(r){var i=t||l;void 0===r?0===a.length?e.$emit(i):1===a.length?e.$emit(i,a[0]):e.$emit.apply(e,s([i],a)):(a.unshift(r),e.$emit.apply(e,s([i],a)))},c=n.apply(this,a);return o(c)?c.then(i):i(c),c}}}function o(t){return t instanceof Promise||t&&"function"===typeof t.then}var c="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function u(t,e,a){if(c&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,a);r!==Object&&(t.type=r)}}function h(t){return void 0===t&&(t={}),function(e,a){u(t,e,a),Object(r["a"])((function(e,a){(e.props||(e.props={}))[a]=t}))(e,a)}}},"1f03":function(t,e,a){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},"1f25":function(t,e,a){"use strict";const r=a("5cf7"),s=Symbol("max"),l=Symbol("length"),i=Symbol("lengthCalculator"),n=Symbol("allowStale"),o=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1;class g{constructor(t){if("number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[s]=t.max||1/0;const e=t.length||p;if(this[i]="function"!==typeof e?p:e,this[n]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[o]=t.maxAge||0,this[c]=t.dispose,this[u]=t.noDisposeOnSet||!1,this[f]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!==typeof t||t<0)throw new TypeError("max must be a non-negative number");this[s]=t||1/0,b(this)}get max(){return this[s]}set allowStale(t){this[n]=!!t}get allowStale(){return this[n]}set maxAge(t){if("number"!==typeof t)throw new TypeError("maxAge must be a non-negative number");this[o]=t,b(this)}get maxAge(){return this[o]}set lengthCalculator(t){"function"!==typeof t&&(t=p),t!==this[i]&&(this[i]=t,this[l]=0,this[h].forEach(t=>{t.length=this[i](t.value,t.key),this[l]+=t.length})),b(this)}get lengthCalculator(){return this[i]}get length(){return this[l]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let a=this[h].tail;null!==a;){const r=a.prev;y(this,t,a,e),a=r}}forEach(t,e){e=e||this;for(let a=this[h].head;null!==a;){const r=a.next;y(this,t,a,e),a=r}}keys(){return this[h].toArray().map(t=>t.key)}values(){return this[h].toArray().map(t=>t.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(t=>this[c](t.key,t.value)),this[d]=new Map,this[h]=new r,this[l]=0}dump(){return this[h].map(t=>!m(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[h]}set(t,e,a){if(a=a||this[o],a&&"number"!==typeof a)throw new TypeError("maxAge must be a number");const r=a?Date.now():0,n=this[i](e,t);if(this[d].has(t)){if(n>this[s])return _(this,this[d].get(t)),!1;const i=this[d].get(t),o=i.value;return this[c]&&(this[u]||this[c](t,o.value)),o.now=r,o.maxAge=a,o.value=e,this[l]+=n-o.length,o.length=n,this.get(t),b(this),!0}const f=new w(t,e,n,r,a);return f.length>this[s]?(this[c]&&this[c](t,e),!1):(this[l]+=f.length,this[h].unshift(f),this[d].set(t,this[h].head),b(this),!0)}has(t){if(!this[d].has(t))return!1;const e=this[d].get(t).value;return!m(this,e)}get(t){return v(this,t,!0)}peek(t){return v(this,t,!1)}pop(){const t=this[h].tail;return t?(_(this,t),t.value):null}del(t){_(this,this[d].get(t))}load(t){this.reset();const e=Date.now();for(let a=t.length-1;a>=0;a--){const r=t[a],s=r.e||0;if(0===s)this.set(r.k,r.v);else{const t=s-e;t>0&&this.set(r.k,r.v,t)}}}prune(){this[d].forEach((t,e)=>v(this,e,!1))}}const v=(t,e,a)=>{const r=t[d].get(e);if(r){const e=r.value;if(m(t,e)){if(_(t,r),!t[n])return}else a&&(t[f]&&(r.value.now=Date.now()),t[h].unshiftNode(r));return e.value}},m=(t,e)=>{if(!e||!e.maxAge&&!t[o])return!1;const a=Date.now()-e.now;return e.maxAge?a>e.maxAge:t[o]&&a>t[o]},b=t=>{if(t[l]>t[s])for(let e=t[h].tail;t[l]>t[s]&&null!==e;){const a=e.prev;_(t,e),e=a}},_=(t,e)=>{if(e){const a=e.value;t[c]&&t[c](a.key,a.value),t[l]-=a.length,t[d].delete(a.key),t[h].removeNode(e)}};class w{constructor(t,e,a,r,s){this.key=t,this.value=e,this.length=a,this.now=r,this.maxAge=s||0}}const y=(t,e,a,r)=>{let s=a.value;m(t,s)&&(_(t,a),t[n]||(s=void 0)),s&&e.call(r,s.value,s.key,t)};t.exports=g},"3d57":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"quest-dialog",title:"","lock-scroll":!1,"destroy-on-close":!0,top:"0",visible:t.visible,width:"80%",fullscreen:!(!t.md.mobile()&&!t.md.tablet())},on:{"update:visible":function(e){t.visible=e}}},[t.quest?a("el-divider",[a("h3",[t._v(t._s(t.quest.NAME))])]):t._e(),a("el-table",{attrs:{data:t.questDialogs,"show-header":!1}},[a("el-table-column",{attrs:{width:"210px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.characterDf?a("img",{staticClass:"dialog-character-image",attrs:{src:t.getCharacterIcon(e.row.characterDf,e.row.facialExpression),alt:t.dataManager.characterById[e.row.characterDf]?t.dataManager.characterById[e.row.characterDf].NAME:e.row.characterDf}}):t._e()]}}])}),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.order===t.EOrderType.eCHARA_TALK?a("div",[a("h4",{domProps:{innerHTML:t._s(t.richTextService.richTextToHtml(e.row.name))}}),a("p",{domProps:{innerHTML:t._s(t.richTextService.richTextToHtml(e.row.dialog))}}),e.row.voice&&t.dataManager.files.audios.voices[e.row.voice+".m4a"]?a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:"audios/voices/"+e.row.voice+".m4a",type:"audio/mp4"}})]):t._e()]):e.row.order===t.EOrderType.eSELECTION?a("div",[a("h4",[t._v(t._s(t.$t("選択")))]),t._l(e.row.options,(function(e){return a("p",{domProps:{innerHTML:t._s(t.richTextService.richTextToHtml(e))}})}))],2):e.row.order===t.EOrderType.eBG?a("div",[a("h4",[t._v(t._s(t.$t("背景")))]),a("p",{domProps:{innerHTML:t._s(t.richTextService.richTextToHtml(e.row.text1||""))}}),a("p",{domProps:{innerHTML:t._s(t.richTextService.richTextToHtml(e.row.text2||""))}}),a("img",{staticClass:"dialog-image",attrs:{src:"img/bg_texture/BG_Texture_"+e.row.id.toString().padStart(4,"0")+".png",alt:e.row.id}})]):e.row.order===t.EOrderType.eMUSIC?a("div",[a("h4",[t._v(t._s(t.$t("音楽")))]),a("p",[t._v(t._s(t.eMusicID[e.row.id]||"-"))]),t._l([t.dataManager.soundListBgmById[e.row.id]].filter((function(t){return t})),(function(r){return e.row.id>0?[t.dataManager.files.audios.musics[r.fileName]?a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:r.file,type:"audio/mp4"}})]):t._e()]:t._e()}))],2):e.row.order===t.EOrderType.ePICTURE?a("div",[a("img",{staticClass:"dialog-image",attrs:{src:"img/still_texture/Still_Texture_"+e.row.id.toString().padStart(4,"0")+".png",alt:e.row.id}})]):e.row.order===t.EOrderType.eWINDOW_ITEM?a("div",[a("img",{staticClass:"dialog-image",attrs:{src:"img/item_texture/item_texture_"+e.row.id.toString().padStart(4,"0")+".png",alt:e.row.id}})]):t._e()]}}])})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("閉じる")))])],1)],1)},s=[],l=a("ade3"),i=a("9ab4"),n=a("2fe1"),o=a("6b98"),c=a("c6c6"),u=a.n(c),h=a("f015"),d=a("d40a"),f=a("87ef");let p=class extends o["a"]{constructor(...t){super(...t),Object(l["a"])(this,"md",new u.a(window.navigator.userAgent)),Object(l["a"])(this,"visible",!1),Object(l["a"])(this,"loading",!1),Object(l["a"])(this,"quest",null),Object(l["a"])(this,"adv",""),Object(l["a"])(this,"questDialogs",[]),Object(l["a"])(this,"richTextService",new d["a"])}get EOrderType(){return h["j"]}get eMusicID(){return h["o"]}getCharacterIcon(t,e){const a=`icon_chara_all_${t.toString().padStart(4,"0")}_${e.toString().padStart(2,"0")}.png`;if(this.dataManager.files.img.icon_chara.Texture2D[a])return"img/icon_chara/Texture2D/"+a;const r=new f["b"];return r.DF=t,r.icon}onPlay(t){for(const e of document.getElementsByTagName("audio"))e!==t.target&&e.pause()}async openDialog(t){try{this.quest=t,this.questDialogs=[],this.visible=!0,this.loading=!0,this.questDialogs=await this.dataManager.advManager.getDialog(t.NPC_FD.map(t=>t.ADV).filter(t=>t))}catch(e){this.visible=!1,this.$message.error(e.toString()),console.error(e)}finally{this.loading=!1}}async openDialogWithAdv(t){try{this.quest=null,this.questDialogs=[],this.visible=!0,this.loading=!0,this.questDialogs=await this.dataManager.advManager.getDialog(t)}catch(e){this.visible=!1,this.$message.error(e.toString()),console.error(e)}finally{this.loading=!1}}};p=Object(i["b"])([Object(n["b"])({components:{}})],p);var g=p,v=g,m=(a("196b"),a("2877")),b=Object(m["a"])(v,r,s,!1,null,"61636021",null);e["a"]=b.exports},"5cf7":function(t,e,a){"use strict";function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"===typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var a=0,s=arguments.length;a<s;a++)e.push(arguments[a]);return e}function s(t,e,a){var r=e===t.head?new n(a,null,e,t):new n(a,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function l(t,e){t.tail=new n(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function i(t,e){t.head=new n(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function n(t,e,a,r){if(!(this instanceof n))return new n(t,e,a,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}t.exports=r,r.Node=n,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,a=t.prev;return e&&(e.prev=a),a&&(a.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=a),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)l(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var a=this.head,r=0;null!==a;r++)t.call(e,a.value,r,this),a=a.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var a=this.tail,r=this.length-1;null!==a;r--)t.call(e,a.value,r,this),a=a.prev},r.prototype.get=function(t){for(var e=0,a=this.head;null!==a&&e<t;e++)a=a.next;if(e===t&&null!==a)return a.value},r.prototype.getReverse=function(t){for(var e=0,a=this.tail;null!==a&&e<t;e++)a=a.prev;if(e===t&&null!==a)return a.value},r.prototype.map=function(t,e){e=e||this;for(var a=new r,s=this.head;null!==s;)a.push(t.call(e,s.value,this)),s=s.next;return a},r.prototype.mapReverse=function(t,e){e=e||this;for(var a=new r,s=this.tail;null!==s;)a.push(t.call(e,s.value,this)),s=s.prev;return a},r.prototype.reduce=function(t,e){var a,r=this.head;if(arguments.length>1)a=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,a=this.head.value}for(var s=0;null!==r;s++)a=t(a,r.value,s),r=r.next;return a},r.prototype.reduceReverse=function(t,e){var a,r=this.tail;if(arguments.length>1)a=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,a=this.tail.value}for(var s=this.length-1;null!==r;s--)a=t(a,r.value,s),r=r.prev;return a},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,a=this.head;null!==a;e++)t[e]=a.value,a=a.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,a=this.tail;null!==a;e++)t[e]=a.value,a=a.prev;return t},r.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var a=new r;if(e<t||e<0)return a;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,l=this.head;null!==l&&s<t;s++)l=l.next;for(;null!==l&&s<e;s++,l=l.next)a.push(l.value);return a},r.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var a=new r;if(e<t||e<0)return a;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,l=this.tail;null!==l&&s>e;s--)l=l.prev;for(;null!==l&&s>t;s--,l=l.prev)a.push(l.value);return a},r.prototype.splice=function(t,e,...a){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,l=this.head;null!==l&&r<t;r++)l=l.next;var i=[];for(r=0;l&&r<e;r++)i.push(l.value),l=this.removeNode(l);null===l&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(r=0;r<a.length;r++)l=s(this,l,a[r]);return i},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,a=t;null!==a;a=a.prev){var r=a.prev;a.prev=a.next,a.next=r}return this.head=e,this.tail=t,this};try{a("1f03")(r)}catch(o){}},"613e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[t.showTitle?a("span",[t._v(t._s(t.$t("キャラクター")))]):t._e(),a("el-select",{attrs:{clearable:t.clearable,placeholder:"",filterable:""},on:{change:t.change},model:{value:t.character,callback:function(e){t.character=e},expression:"character"}},t._l(t.characters,(function(e,r){return a("el-option",{key:r,attrs:{label:e.NAME,value:e.DF}},[e.hasFaceIcon?a("img",{staticClass:"option-image",attrs:{src:e.faceIcon,alt:e.NAME}}):e.hasIcon?a("img",{staticClass:"option-image",attrs:{src:e.icon,alt:e.NAME}}):t._e(),a("span",{staticClass:"option-text"},[t._v(t._s(e.NAME))])])})),1)],1)},s=[],l=a("ade3"),i=a("9ab4"),n=a("1b40"),o=a("6b98");let c=class extends o["a"]{constructor(...t){super(...t),Object(l["a"])(this,"characters",void 0),Object(l["a"])(this,"value",void 0),Object(l["a"])(this,"showTitle",void 0),Object(l["a"])(this,"clearable",void 0)}get character(){return this.value}set character(t){}change(t){return t}};Object(i["b"])([Object(n["c"])({type:Array,default:()=>[]})],c.prototype,"characters",void 0),Object(i["b"])([Object(n["c"])()],c.prototype,"value",void 0),Object(i["b"])([Object(n["c"])({type:Boolean,default:!0})],c.prototype,"showTitle",void 0),Object(i["b"])([Object(n["c"])({type:Boolean,default:!0})],c.prototype,"clearable",void 0),Object(i["b"])([Object(n["b"])("change"),Object(n["b"])("input")],c.prototype,"change",null),c=Object(i["b"])([Object(n["a"])({components:{}})],c);var u=c,h=u,d=a("2877"),f=Object(d["a"])(h,r,s,!1,null,null,null);e["a"]=f.exports},"75ee":function(t,e,a){},"926b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("AdventureRawDialog",{ref:"advDialog",attrs:{id:"quest-dialog"}}),a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.$t("カテゴリー")))]),a("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},on:{change:t.resetPage},model:{value:t.filter.category,callback:function(e){t.$set(t.filter,"category",e)},expression:"filter.category"}},t._l(t.categoryFilter,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("CharacterSelector",{attrs:{characters:t.dataManager.questCharacters},on:{change:t.resetPage},model:{value:t.filter.character,callback:function(e){t.$set(t.filter,"character",e)},expression:"filter.character"}}),a("WealthSelector",{attrs:{wealths:t.dataManager.questCostWealths,title:t.$t("消費財貨")},on:{change:t.resetPage},model:{value:t.filter.costWealth,callback:function(e){t.$set(t.filter,"costWealth",e)},expression:"filter.costWealth"}}),a("WealthSelector",{attrs:{wealths:t.dataManager.questRewardWealths,title:t.$t("報酬財貨")},on:{change:t.resetPage},model:{value:t.filter.rewardWealth,callback:function(e){t.$set(t.filter,"rewardWealth",e)},expression:"filter.rewardWealth"}}),a("DegreeSelector",{attrs:{degrees:t.dataManager.questRequireDegrees,title:t.$t("必要称号")},on:{change:t.resetPage},model:{value:t.filter.requireDegree,callback:function(e){t.$set(t.filter,"requireDegree",e)},expression:"filter.requireDegree"}})],1),a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.$t("名前"))+"/DF/ADV")]),a("el-input",{attrs:{clearable:""},on:{change:t.resetPage},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1),a("div",{staticClass:"filter"},[a("el-switch",{attrs:{"active-text":t.$t("EXクエスト")},on:{change:t.resetPage},model:{value:t.filter.extraQuest,callback:function(e){t.$set(t.filter,"extraQuest",e)},expression:"filter.extraQuest"}})],1),a("div",{staticClass:"filter"},[a("el-switch",{attrs:{"active-text":t.$t("すべて展開")},model:{value:t.defaultExpandAll,callback:function(e){t.defaultExpandAll=e},expression:"defaultExpandAll"}})],1)]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("el-checkbox-group",{attrs:{size:"small"},on:{change:t.resetPage},model:{value:t.filter.has,callback:function(e){t.$set(t.filter,"has",e)},expression:"filter.has"}},t._l(t.hasFilter,(function(e){return a("el-checkbox-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1)]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("el-checkbox",{model:{value:t.showColumnDF,callback:function(e){t.showColumnDF=e},expression:"showColumnDF"}},[t._v("DF")]),a("el-checkbox",{model:{value:t.showColumnNAME,callback:function(e){t.showColumnNAME=e},expression:"showColumnNAME"}},[t._v(t._s(t.$t("名前")))]),a("el-checkbox",{model:{value:t.showColumnCATEG,callback:function(e){t.showColumnCATEG=e},expression:"showColumnCATEG"}},[t._v(t._s(t.$t("カテゴリー")))]),a("el-checkbox",{model:{value:t.showColumnCOST,callback:function(e){t.showColumnCOST=e},expression:"showColumnCOST"}},[t._v(t._s(t.$t("消費")))]),a("el-checkbox",{model:{value:t.showColumnENM,callback:function(e){t.showColumnENM=e},expression:"showColumnENM"}},[t._v(t._s(t.$t("討伐")))]),a("el-checkbox",{model:{value:t.showColumnGET,callback:function(e){t.showColumnGET=e},expression:"showColumnGET"}},[t._v(t._s(t.$t("調合/採取")))]),a("el-checkbox",{model:{value:t.showColumnDLV,callback:function(e){t.showColumnDLV=e},expression:"showColumnDLV"}},[t._v(t._s(t.$t("納品")+"/"+t.$t("報告")))]),a("el-checkbox",{model:{value:t.showColumnARA,callback:function(e){t.showColumnARA=e},expression:"showColumnARA"}},[t._v(t._s(""+t.$t("場所に行く")))]),a("el-checkbox",{model:{value:t.showColumnDialog,callback:function(e){t.showColumnDialog=e},expression:"showColumnDialog"}},[t._v(t._s(t.$t("ダイアログ")))]),a("el-checkbox",{model:{value:t.showColumnCharacter,callback:function(e){t.showColumnCharacter=e},expression:"showColumnCharacter"}},[t._v(t._s(t.$t("キャラクター")))])],1)]),a("div",{staticClass:"content"},[a("el-table",{ref:"table",staticClass:"quest-table",attrs:{data:t.filteredPaginationQuests,"default-expand-all":t.defaultExpandAll,"row-key":t.getRowKey},on:{"update:defaultExpandAll":function(e){t.defaultExpandAll=e},"update:default-expand-all":function(e){t.defaultExpandAll=e},"sort-change":t.onSortChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l([e.row],(function(e){return[a("div",{staticClass:"item-container"},[a("div",{staticClass:"item-container-left"},[e.CHARA?a("div",[a("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:e.CHARA}}}}),a("img",{staticClass:"icon-full",attrs:{src:t.dataManager.characterById[e.CHARA].icon,alt:t.dataManager.characterById[e.CHARA].NAME}})],1):t._e(),a("h3",[t._v(t._s(e.NAME))]),a("p",[t._v(t._s(e.DESC))]),a("br"),a("p",[t._v("DF: "+t._s(e.DF))]),a("p",[t._v(t._s(t.$t("種類"))+": "+t._s(t.$t(t.dataManager.lookup.EQuestCategory[e.CATEG])))]),e.TYPE?a("p",[t._v(t._s(t.$t("タイプ"))+": "+t._s(t.$t(t.dataManager.lookup.EQuestType[e.TYPE])))]):t._e(),a("p",[t._v(t._s(t.$t("解放チャプター"))+": "+t._s(e.CHAPTER?e.CHAPTER:"-"))]),a("p",[t._v(t._s(t.$t("キークエスト"))+": "+t._s(t.tickCross(e.KEY_QUEST)))]),a("p",[t._v(t._s(t.$t("重要"))+": "+t._s(t.tickCross(e.IMPORTANT)))]),a("p",[t._v(t._s(t.$t("挑戦"))+": "+t._s(t.tickCross(e.CHALLENGE)))]),e.AREA?a("p",[a("span",[t._v(t._s(t.$t("区域"))+":  ")]),a("router-link",{attrs:{to:{name:"Areas",query:{df:e.AREA}},target:"_blank"}},[t._l([t.dataManager.areaInfoById[e.AREA]].filter((function(t){return t})),(function(e){return[t._l([t.dataManager.fieldNameById[e.iAreaNameId]].filter((function(t){return t})),(function(e){return[t._v(t._s(e.strAreaName))]}))]}))],2)],1):t._e()]),a("div",{staticClass:"item-container-right"},[e.CONDITION?a("div",[a("h4",[t._v(t._s(t.$t("達成條件")))]),a("p",[t._v(t._s(e.CONDITION))])]):t._e(),e.COST.WTH.CNT?a("div",[a("el-divider",[t._v(t._s(t.$t("消費")))]),a("el-tooltip",{attrs:{content:t.dataManager.wealthById[e.COST.WTH.DF].NAME,placement:"left"}},[a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:t.dataManager.wealthById[e.COST.WTH.DF].icon,alt:t.dataManager.wealthById[e.COST.WTH.DF].NAME}}),a("span",[t._v(t._s(e.COST.WTH.CNT))])])])],1):t._e(),e.ENM.length?a("div",[a("el-divider",[t._v(t._s(t.$t("討伐")))]),a("div",t._l(e.ENM.map((function(e){return[e,t.dataManager.enemyById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",{staticClass:"quest-kill-container"},[a("el-tooltip",{attrs:{content:s.strName,placement:"left"}},[a("router-link",{attrs:{to:{name:"EnemiesEnemy",query:{df:s.DF}},target:"_blank"}},[a("img",{attrs:{src:s.icon,alt:s.strName}}),a("span",[t._v("x "+t._s(r.BDR))])])],1)],1)})),0)],1):t._e(),e.GET.length?a("div",[a("el-divider",[t._v(t._s(t.$t("調合/採取")))]),a("div",t._l(e.GET.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("el-tooltip",{attrs:{content:s.NAME,placement:"left"}},[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:s.RSP.length?"ToolsComposeItem":"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.BDR))])])],1)],1)})),0)],1):t._e(),e.DLV.length?a("div",[a("el-divider",[t._v(t._s(t.$t("納品"))+"/"+t._s(t.$t("報告")))]),a("div",t._l(e.DLV.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("el-tooltip",{attrs:{content:s.NAME,placement:"left"}},[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:s.RSP.length?"ToolsComposeItem":"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.BDR))])])],1)],1)})),0)],1):t._e(),e.REG.length?a("div",[a("el-divider",[t._v(t._s(t.$t("場所に行く")))]),a("div",t._l(e.REG.map((function(e){return[e,t.dataManager.areaInfoById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("router-link",{attrs:{to:{name:"Areas",query:{df:r.DF}},target:"_blank"}},[t.dataManager.fieldNameById[s.iAreaNameId]?a("span",[t._v(t._s(t.dataManager.fieldNameById[s.iAreaNameId].strAreaName))]):a("span",[t._v(t._s(s.iAreaNameId))])])],1)})),0)],1):t._e(),e.ARA.length?a("div",[a("el-divider",[t._v(t._s(t.$t("場所に行く")))]),a("div",t._l(e.ARA.map((function(e){return[e,t.dataManager.areaInfoById[e.AREA]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("router-link",{attrs:{to:{name:"Areas",query:{df:r.AREA}},target:"_blank"}},[t.dataManager.fieldNameById[s.iAreaNameId]?a("span",[t._v(t._s(t.dataManager.fieldNameById[s.iAreaNameId].strAreaName))]):a("span",[t._v(t._s(s.iAreaNameId))])])],1)})),0)],1):t._e(),e.RWD_ITEM.length||e.RWD_WTH.length?a("div",[a("el-divider",[t._v(t._s(t.$t("報酬")))]),t._l(e.RWD_ITEM.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("el-tooltip",{attrs:{content:s.NAME,placement:"left"}},[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",{staticClass:"reward-title"},[a("span",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),r.TRT?a("span",[t._v(t._s(t.dataManager.skillById[r.TRT].name.replace(/\s+/gm,"")))]):t._e()]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.CNT))])])],1)],1)})),t._l(e.RWD_WTH.map((function(e){return[e,t.dataManager.wealthById[e.DF]]})),(function(e){var r=e[0],s=e[1];return a("div",[a("el-tooltip",{attrs:{content:s.NAME,placement:"left"}},[a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("span",[t._v(t._s(r.CNT))])])])],1)})),e.RNK_PT?a("div",[a("el-tooltip",{attrs:{content:t.dataManager.wealthById[9999].NAME,placement:"left"}},[a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:"img/icon_item01/Texture2D/icon_item01_00009.png",alt:t.dataManager.wealthById[9999].NAME}}),a("span",[t._v(t._s(e.RNK_PT))])])])],1):t._e()],2):t._e(),e.UNLOCK.length?a("div",[a("el-divider",[t._v(t._s(t.$t("必要称号")))]),t._l(e.UNLOCK.map((function(e){return[e,t.dataManager.degreeByIdStep[e.DF][e.STP]]})),(function(e){e[0];var r=e[1];return a("div",[a("el-tooltip",{attrs:{content:r.DESC,placement:"left"}},[a("span",{staticClass:"degree-container"},[r.TYP?a("img",{attrs:{src:r.icon,alt:r.NAME}}):t._e(),a("span",[t._v(t._s(r.NAME))])])])],1)}))],2):t._e(),e.PARTY_IN?a("div",[a("el-divider",[t._v(t._s(t.$t("必要キャラクター")))]),a("div",[a("el-tooltip",{attrs:{content:t.dataManager.characterById[e.PARTY_IN].NAME,placement:"left"}},[a("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:e.PARTY_IN}},target:"_blank"}},[a("img",{staticClass:"icon-middle",attrs:{src:t.dataManager.characterById[e.PARTY_IN].icon,alt:t.dataManager.characterById[e.PARTY_IN].NAME}})])],1)],1)],1):t._e()])])]}))]}}])}),t.showColumnDF?a("el-table-column",{attrs:{prop:"DF",label:"DF",width:"100%",sortable:"custom"}}):t._e(),t.showColumnNAME?a("el-table-column",{attrs:{prop:"NAME",label:t.$t("名前"),sortable:"custom"}}):t._e(),t.showColumnCATEG?a("el-table-column",{attrs:{prop:"CATEG",label:t.$t("カテゴリー"),width:"130%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$t(t.dataManager.lookup.EQuestCategory[e.row.CATEG])))]}}],null,!1,1913108140)}):t._e(),t.showColumnCOST?a("el-table-column",{attrs:{prop:"COST.WTH.CNT",label:t.$t("消費"),width:"100%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.tickCross(e.row.COST.WTH.CNT)))]}}],null,!1,2692121966)}):t._e(),t.showColumnENM?a("el-table-column",{attrs:{prop:"ENM.length",label:t.$t("討伐"),width:"100%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.tickCross(e.row.ENM.length)))]}}],null,!1,247999907)}):t._e(),t.showColumnGET?a("el-table-column",{attrs:{prop:"GET.length",label:t.$t("調合/採取"),width:t.tableOptions.column.composeOrGatherWidth,sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.tickCross(e.row.GET.length)))]}}],null,!1,4227987091)}):t._e(),t.showColumnDLV?a("el-table-column",{attrs:{prop:"DLV.length",label:t.$t("納品")+"/"+t.$t("報告"),width:t.tableOptions.column.composeOrGatherWidth,sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.tickCross(e.row.DLV.length)))]}}],null,!1,911508923)}):t._e(),t.showColumnARA?a("el-table-column",{attrs:{prop:"ARA.length",label:""+t.$t("場所に行く"),width:t.tableOptions.column.gotoLocationWidth,sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.tickCross(e.row.ARA.length||e.row.REG.length)))]}}],null,!1,3925489461)}):t._e(),t.showColumnCharacter?a("el-table-column",{attrs:{prop:"CHARA",label:t.$t("キャラクター"),width:"130%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:e.row.CHARA}},target:"_blank"}},[e.row.CHARA?a("img",{staticClass:"character-preview",attrs:{src:t.dataManager.characterById[e.row.CHARA].icon,alt:t.dataManager.characterById[e.row.CHARA].NAME}}):t._e()])]}}],null,!1,236308276)}):t._e(),t.showColumnDialog?a("el-table-column",{attrs:{prop:"NPC_FD.length",label:t.$t("ダイアログ"),width:"120%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.NPC_FD.some((function(t){return t.ADV}))?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.$refs.advDialog.openDialog(e.row)}}},[t._v(t._s(t.$t("ダイアログ")))]):t._e()]}}],null,!1,728187633)}):t._e()],1),a("el-pagination",{attrs:{"page-size":t.take,"current-page":t.page,total:t.filteredQuests.length,layout:"prev, pager, next",background:""},on:{"current-change":t.scrollTableTop,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1)},s=[],l=a("ade3"),i=(a("13d5"),a("9ab4")),n=a("2fe1"),o=a("6b98"),c=a("1f25"),u=a.n(c),h=a("5935"),d=a("3d57"),f=a("613e"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.title||t.$t("大事なもの(財貨)")))]),a("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},on:{change:t.change},model:{value:t.wealth,callback:function(e){t.wealth=e},expression:"wealth"}},t._l(t.wealths,(function(e){return a("el-option",{key:e.DF,attrs:{label:e.NAME,value:e.DF}},[t._l([t.dataManager.characterById[e.CHARA]].filter((function(t){return t})),(function(r){return e.CHARA?[r.hasFaceIcon?a("img",{staticClass:"option-image",attrs:{src:r.faceIcon,alt:r.NAME}}):r.hasIcon?a("img",{staticClass:"option-image",attrs:{src:r.icon,alt:r.NAME}}):t._e()]:t._e()})),a("img",{staticClass:"option-image",attrs:{src:e.icon,alt:e.NAME}}),a("span",{staticClass:"option-text"},[t._v(t._s(e.NAME))])],2)})),1)],1)},g=[],v=a("1b40");let m=class extends o["a"]{constructor(...t){super(...t),Object(l["a"])(this,"wealths",void 0),Object(l["a"])(this,"value",void 0),Object(l["a"])(this,"title",void 0)}get wealth(){return this.value}set wealth(t){}change(t){return t}};Object(i["b"])([Object(v["c"])({type:Array,default:()=>[]})],m.prototype,"wealths",void 0),Object(i["b"])([Object(v["c"])()],m.prototype,"value",void 0),Object(i["b"])([Object(v["c"])({type:String,default:""})],m.prototype,"title",void 0),Object(i["b"])([Object(v["b"])("change"),Object(v["b"])("input")],m.prototype,"change",null),m=Object(i["b"])([Object(v["a"])({components:{}})],m);var b=m,_=b,w=a("2877"),y=Object(w["a"])(_,p,g,!1,null,null,null),C=y.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.title||t.$t("称号")))]),a("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},on:{change:t.change},model:{value:t.degree,callback:function(e){t.degree=e},expression:"degree"}},t._l(t.degrees,(function(e){return a("el-option",{key:e.DF,attrs:{label:e.NAME,value:e.DF}},[e.hasIcon?a("img",{staticClass:"option-image",attrs:{src:e.icon,alt:e.NAME}}):t._e(),a("span",{staticClass:"option-text"},[t._v(t._s(e.NAME))])])})),1)],1)},x=[];let E=class extends o["a"]{constructor(...t){super(...t),Object(l["a"])(this,"degrees",void 0),Object(l["a"])(this,"value",void 0),Object(l["a"])(this,"title",void 0)}get degree(){return this.value}set degree(t){}change(t){return t}};Object(i["b"])([Object(v["c"])({type:Array,default:()=>[]})],E.prototype,"degrees",void 0),Object(i["b"])([Object(v["c"])()],E.prototype,"value",void 0),Object(i["b"])([Object(v["c"])({type:String})],E.prototype,"title",void 0),Object(i["b"])([Object(v["b"])("change"),Object(v["b"])("input")],E.prototype,"change",null),E=Object(i["b"])([Object(v["a"])({components:{}})],E);var T=E,O=T,D=Object(w["a"])(O,A,x,!1,null,null,null),M=D.exports;class N extends o["a"]{constructor(...t){super(...t),Object(l["a"])(this,"showColumnDF",void 0),Object(l["a"])(this,"showColumnNAME",void 0),Object(l["a"])(this,"showColumnCATEG",void 0),Object(l["a"])(this,"showColumnCOST",void 0),Object(l["a"])(this,"showColumnENM",void 0),Object(l["a"])(this,"showColumnGET",void 0),Object(l["a"])(this,"showColumnDLV",void 0),Object(l["a"])(this,"showColumnARA",void 0),Object(l["a"])(this,"showColumnDialog",void 0),Object(l["a"])(this,"showColumnCharacter",void 0)}}let k=class extends N{constructor(...t){super(...t),Object(l["a"])(this,"filter",{category:null,character:null,costWealth:null,rewardWealth:null,requireDegree:null,has:[],name:"",extraQuest:!1,sort:"",order:null}),Object(l["a"])(this,"page",1),Object(l["a"])(this,"take",100),Object(l["a"])(this,"defaultExpandAll",!1),Object(l["a"])(this,"filterCache",new u.a(100)),Object(l["a"])(this,"currentRows",[])}get tableOptions(){switch(this.dataManager.locale){case"en":return{column:{composeOrGatherWidth:"180",gotoLocationWidth:"140%"}};default:return{column:{composeOrGatherWidth:"110%",gotoLocationWidth:"120%"}}}}get categoryFilter(){return Object.keys(this.dataManager.questsByCategory).filter(t=>t).map(t=>({label:this.$t(this.dataManager.lookup.EQuestCategory[t]),value:t}))}get hasFilter(){return[{label:this.$t("消費"),value:1},{label:this.$t("討伐"),value:2},{label:this.$t("調合/採取"),value:3},{label:`${this.$t("納品")}/${this.$t("報告")}`,value:4},{label:this.$t("場所に行く"),value:5},{label:this.$t("ダイアログ"),value:6},{label:this.$t("キークエスト"),value:7},{label:this.$t("挑戦"),value:8},{label:this.$t("必要称号"),value:9},{label:this.$t("必要キャラクター"),value:10},{label:this.$t("CG"),value:11},{label:this.$t("音声あり"),value:12}]}get filteredQuests(){const t=JSON.stringify(this.filter);if(!this.filterCache.has(t)){const e=this.filter.category?this.dataManager.questsByCategory[this.filter.category]:[...this.dataManager.quest.m_vList].reverse(),a=e.filter(t=>(!this.filter.character||t.CHARA===this.filter.character)&&(!this.filter.costWealth||t.COST.WTH.DF===this.filter.costWealth)&&(!this.filter.rewardWealth||t.RWD_WTH.some(t=>t.DF===this.filter.rewardWealth))&&(!this.filter.requireDegree||t.UNLOCK.some(t=>t.DF===this.filter.requireDegree))&&(!this.filter.name||t.DF===+this.filter.name||t.NAME.toLocaleLowerCase().includes(this.filter.name.toLocaleLowerCase())||t.NPC_FD.some(t=>t.ADV===this.filter.name))&&(!this.filter.extraQuest||this.dataManager.extraQuestsByQuest[t.DF])&&(!this.filter.has.includes(1)||t.COST.WTH.CNT)&&(!this.filter.has.includes(2)||t.ENM.length)&&(!this.filter.has.includes(3)||t.GET.length)&&(!this.filter.has.includes(4)||t.DLV.length)&&(!this.filter.has.includes(5)||t.ARA.length||t.REG.length)&&(!this.filter.has.includes(6)||t.NPC_FD.some(t=>t.ADV))&&(!this.filter.has.includes(7)||t.KEY_QUEST)&&(!this.filter.has.includes(8)||t.CHALLENGE)&&(!this.filter.has.includes(9)||t.UNLOCK.length)&&(!this.filter.has.includes(10)||t.PARTY_IN)&&(!this.filter.has.includes(11)||t.NPC_FD.some(t=>this.dataManager.advHasCg[t.ADV]))&&(!this.filter.has.includes(12)||t.NPC_FD.some(t=>this.dataManager.advHasAudio[t.ADV])));if(this.filter.order){const t=t=>this.filter.sort.split(".").reduce((t,e)=>t[e],t);"NAME"===this.filter.sort?"ascending"===this.filter.order?a.sort((e,a)=>t(e).localeCompare(t(a))):a.sort((e,a)=>t(a).localeCompare(t(e))):"ascending"===this.filter.order?a.sort((e,a)=>t(e)-t(a)):a.sort((e,a)=>t(a)-t(e))}this.filterCache.set(t,a)}return this.filterCache.get(t)}get filteredPaginationQuests(){return this.currentRows=this.filteredQuests.slice((this.page-1)*this.take,this.page*this.take),this.defaultExpandAll&&this.$nextTick(this.expandAll.bind(this)),this.currentRows}beforeMount(){this.$route.query.df&&(this.filter.name=this.$route.query.df.toString()),this.$route.query.name&&(this.filter.name=this.$route.query.name.toString())}mounted(){this.$route.query.df&&this.expandAll()}expandAll(){this.currentRows.forEach(t=>this.$refs.table.toggleRowExpansion(t,!0))}getRowKey(t){return t.DF}onSortChange({prop:t,order:e}){this.$set(this.filter,"sort",t),this.$set(this.filter,"order",e),this.resetPage()}scrollTableTop(){this.$refs.table.$el.scrollIntoView()}resetPage(){this.page=1}};k=Object(i["b"])([Object(n["b"])({components:{AdventureRawDialog:d["a"],CharacterSelector:f["a"],WealthSelector:C,DegreeSelector:M},computed:{...Object(h["b"])("questsFilter",["showColumnDF","showColumnNAME","showColumnCATEG","showColumnCOST","showColumnENM","showColumnGET","showColumnDLV","showColumnARA","showColumnDialog","showColumnCharacter"])}})],k);var $=k,S=$,j=(a("d8ed"),a("9c6e"),Object(w["a"])(S,r,s,!1,null,"62f6d27a",null));e["default"]=j.exports},"9c6e":function(t,e,a){"use strict";a("ce3b")},be7c:function(t,e,a){},ce3b:function(t,e,a){},d8ed:function(t,e,a){"use strict";a("be7c")}}]);