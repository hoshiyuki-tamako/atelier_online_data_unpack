(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OthersAdventBattle"],{"0977":function(e,t,a){"use strict";a("0f64")},"0f64":function(e,t,a){},"8ba4":function(e,t,a){var n=a("23e7"),s=a("5e89");n({target:"Number",stat:!0},{isInteger:s})},e947:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-refresh-left",circle:""},on:{click:e.onClickResetScores}})],1)]),a("div",{staticClass:"content"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.filteredRankList,(function(t){return a("el-tab-pane",{key:t.ID,attrs:{label:t.ID.toString(),name:t.ID.toString()}},[a("div",{staticClass:"advent-battles"},e._l(t.EnemyList,(function(n,s){return a("div",{staticClass:"item-container"},[e._l([e.dataManager.enemyById[n.DF]],(function(t){return a("div",{staticClass:"item-container-left"},[a("h3",{staticClass:"item-name"},[a("router-link",{attrs:{to:{name:"EnemiesEnemy",query:{df:t.DF}},target:"_blank"}},[e._v(e._s(t.strName))])],1),a("img",{staticClass:"icon-full",attrs:{src:t.icon,alt:t.strName}})])})),a("div",{staticClass:"item-container-right"},[a("table",[a("tr",[a("th",[e._v(e._s(e.$t("課題")))]),a("th",[e._v(e._s(e.$t("ポイント")))]),a("th",[e._v(e._s(e.$t("ダメージ")))]),a("th",[e._v(e._s(e.$t("回数")))])]),e._l(n.ScoreList,(function(n,r){return a("tr",[a("td",{staticClass:"advent-battle-name"},[e._v(e._s(n.name))]),a("td",[e._v(e._s(n.score))]),a("td",[n.isDiapNum?e._e():a("el-input-number",{attrs:{size:"small",min:1,step:1,"step-strictly":""},model:{value:e.scores[t.ID][s][r].damage,callback:function(a){e.$set(e.scores[t.ID][s][r],"damage",a)},expression:"scores[adventBattle.ID][enemyListIndex][i].damage"}})],1),a("td",[a("el-input-number",{attrs:{size:"small",min:0,max:e.scoreMax(n.eKind),step:1,"step-strictly":""},model:{value:e.scores[t.ID][s][r].times,callback:function(a){e.$set(e.scores[t.ID][s][r],"times",a)},expression:"scores[adventBattle.ID][enemyListIndex][i].times"}})],1)])})),a("tr",[a("td"),a("td"),a("td"),a("td",[e._v(e._s(e.score(t.ID,s)))])])],2)])],2)})),0)])})),1)],1)])},s=[],r=a("5530"),c=a("b85c"),i=a("3835"),o=a("bee2"),l=a("d4ec"),u=a("257e"),f=a("262e"),d=a("2caf"),b=a("ade3"),m=(a("99af"),a("a630"),a("3ca3"),a("a9e3"),a("8ba4"),a("b65f"),a("4fad"),a("fb6a"),a("d3b7"),a("ddb0"),a("9ab4")),v=a("2fe1"),g=a("0063"),_=a.n(g),I=a("2ef0"),O=a("5935"),h=a("3c4e"),y=a.n(h),p=a("6b98"),A=a("f015"),L=a("46ef"),j=function(e){Object(f["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;Object(l["a"])(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s)),Object(b["a"])(Object(u["a"])(e),"scores",void 0),e}return a}(p["a"]),D=function(e){Object(f["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;Object(l["a"])(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s)),Object(b["a"])(Object(u["a"])(e),"activeTab",""),e}return Object(o["a"])(a,[{key:"defaultScores",get:function(){return _.a.from(this.dataManager.adventBattle.RankingList).toObject((function(e){return e.ID}),(function(e){return _.a.from(e.EnemyList).select((function(e,t){return{enemyList:e,i:t}})).toObject((function(e){var t=e.i;return t}),(function(e){var t=e.enemyList;return Array.from({length:t.ScoreList.length},(function(){return new L["a"]}))}))}))}},{key:"filteredRankList",get:function(){return this.dataManager.adventBattle.RankingList}},{key:"scoreMax",value:function(e){switch(e){case A["g"].eBOSS_WIN:case A["g"].eUSE_CHAR:case A["g"].eSKILL_FINISH:case A["g"].eITEM_FINISH:case A["g"].eALL_CHAR_SURVIVAL:case A["g"].eANNIHILATION:case A["g"].eUNDER_MOVE:return 1;case A["g"].eSLIP_FROZEN:case A["g"].eSLIP_BURN:case A["g"].eSLIP_POISON:case A["g"].eOVER_MOVE:case A["g"].eCHAR_DEAD:case A["g"].eSKILL_CHAIN:case A["g"].eUSE_ITEM:case A["g"].eTOTAL_DAMAGE:case A["g"].eBIG_DAMAGE:case A["g"].eWEAK_ATACK:case A["g"].eCRITICAL_ATACK:default:return Number.MAX_VALUE}}},{key:"score",value:function(e,t){var a=this.scores[e][t],n=this.dataManager.adventBattleById[e].EnemyList[t].ScoreList,s=n.reduce((function(e,t,n){var s=t.score,r=t.isDiapNum;return r&&s>=1?e+s*a[n].times:e}),0),r=n.reduce((function(e,t,n){var s=t.score,r=t.isDiapNum;return!r&&s>0?e+s*a[n].damage*a[n].times:e}),s),c=n.reduce((function(e,t,n){var s=t.score,r=t.isDiapNum;return!r||!a[n].times||0!==s&&Number.isInteger(s)?e:e*(s/a[n].times)}),r),i=n.reduce((function(e,t,n){var s=t.score,r=t.isDiapNum;return r&&s<0?e+s*a[n].times:e}),c);return Math.trunc(Object(I["clamp"])(i,0,Number.MAX_VALUE))}},{key:"onClickResetScores",value:function(){for(var e=0,t=Object.entries(this.scores);e<t.length;e++)for(var a=Object(i["a"])(t[e],2),n=a[0],s=a[1],r=0,c=Object.entries(s);r<c.length;r++){var o=Object(i["a"])(c[r],2),l=o[0],u=o[1];this.scores[n][l]=Array.from({length:u.length},(function(){return new L["a"]}))}}},{key:"beforeMount",value:function(){this.scores=y()(this.defaultScores,this.scores,{arrayMerge:function(e,t){var a,n=e.slice(),s=Object(c["a"])(t.entries());try{for(s.s();!(a=s.n()).done;){var r=Object(i["a"])(a.value,2),o=r[0],l=r[1];n[o]=l}}catch(u){s.e(u)}finally{s.f()}return n}})}}]),a}(j);D=Object(m["b"])([Object(v["b"])({components:{},computed:Object(r["a"])({},Object(O["b"])("adventBattleFilter",["scores"]))})],D);var N=D,S=N,k=(a("0977"),a("2877")),C=Object(k["a"])(S,n,s,!1,null,"0a7914ec",null);t["default"]=C.exports}}]);