(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ToolsEquipmentExperienceLeveling"],{"177e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2909"),r=n("d4ec"),c=n("bee2"),s=n("ade3"),a=(n("c740"),n("d81d"),n("d3b7"),n("ddb0"),n("acb1")),u=n("2ef0"),l=new a["a"];l.G=3,l.M=2e4,l.R=60,l.B=1;var o=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,[{key:"compose",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=e.formula.getValue(t),s=r?e.formula.getValue(i+1)-e.formula.getValue(i)-r:0,a=e.formula.getValue(i)+s,l=a+n,o=l>=c,f=function(){return o?t:n?e.experiences.findIndex((function(e){return e>l})):i}(),m=f===t?0:e.formula.getValue(f+1)-e.formula.getValue(f)-(l-e.formula.getValue(f)),p=a+1.5*n,v=p>=c,d=function(){return v?t:n?e.experiences.findIndex((function(e){return e>p})):i}(),g=d===t?0:e.formula.getValue(d+1)-e.formula.getValue(d)-(p-e.formula.getValue(d));return{targetLevel:f,untilNext:m,totalExperience:Object(u["clamp"])(l,0,c),overExp:l<=c?0:l-c,targetLevelBigSuccess:d,untilNextBigSuccess:g,totalExperienceBigSuccess:Object(u["clamp"])(p,0,c),overExpBigSuccess:p<=c?0:p-c}}}],[{key:"experiences",get:function(){var e=this;return Object(i["a"])(Array(60).keys()).map((function(e){return e+1})).map((function(t){return e.formula.getValue(t)}))}}]),e}();Object(s["a"])(o,"formula",l)},3459:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-enhance-quality"},[n("div",{staticClass:"left"},[n("div",{staticClass:"experience-items"},e._l(e.equipmentExpItems,(function(t){return n("div",{staticClass:"experience-item",on:{click:function(n){return e.onClickAddItem(t)}}},[n("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[n("img",{staticClass:"icon-small",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0),n("br"),n("br"),n("div",{staticClass:"items"},e._l(e.items,(function(t,i){return n("div",{staticClass:"item",on:{click:function(t){return e.onClickRemoveItem(i)}}},[n("el-tooltip",{attrs:{content:t.SPC[0].SKILL[0].VAL+" "+e.$t("経験値"),placement:"top"}},[n("img",{staticClass:"icon-middle",attrs:{src:t.icon,alt:t.NAME}})])],1)})),0)]),n("div",{staticClass:"right"},[n("div",[n("img",{staticClass:"icon-large",attrs:{src:"img/icon_item_s/Texture2D/icon_item_s_20010002.png",alt:e.$t("アイテム")}})]),n("div",[n("div",{staticClass:"orginal-item__edit"},[n("span",[e._v(e._s(e.$t("レベル")))]),n("el-input-number",{attrs:{size:"mini",min:1,max:60,step:1,"step-strictly":""},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),n("span",[e._v(e._s(e.$t("あと")))]),n("el-input-number",{attrs:{size:"mini",min:0,max:e.maxExp,step:1,"step-strictly":""},model:{value:e.untilExp,callback:function(t){e.untilExp=t},expression:"untilExp"}})],1),n("br")]),e._l([e.result],(function(t){return n("div",{staticClass:"result"},[n("table",[n("tr",[n("th",[e._v(e._s(e.$t("目標レベル")))]),n("td",[e._v(e._s(t.targetLevel))])]),n("tr",[n("th",[e._v(e._s(e.$t("あと")))]),n("td",[e._v(e._s(t.untilNext))])]),n("tr",[n("th",[e._v(e._s(e.$t("経験値")))]),n("td",[e._v(e._s(t.totalExperience))])]),n("tr",[n("th",[e._v(e._s(e.$t("無駄になった経験値")))]),n("td",[e._v(e._s(t.overExp))])])]),n("br"),n("h4",{staticClass:"big-success__title"},[e._v(e._s(e.$t("大成功")))]),n("table",{staticClass:"big-success__table"},[n("tr",[n("th",[e._v(e._s(e.$t("目標レベル")))]),n("td",[e._v(e._s(t.targetLevelBigSuccess))])]),n("tr",[n("th",[e._v(e._s(e.$t("あと")))]),n("td",[e._v(e._s(t.untilNextBigSuccess))])]),n("tr",[n("th",[e._v(e._s(e.$t("経験値")))]),n("td",[e._v(e._s(t.totalExperienceBigSuccess))])]),n("tr",[n("th",[e._v(e._s(e.$t("無駄になった経験値")))]),n("td",[e._v(e._s(t.overExpBigSuccess))])])]),n("br"),e._l(e.totalItems,(function(t){var i=t.item,r=t.count;return n("p",{staticClass:"total-item"},[n("img",{staticClass:"icon-small",attrs:{src:i.icon,alt:i.NAME}}),n("span",[e._v("x "+e._s(r)+" "+e._s(e.$t("個"))+" "+e._s(i.SPC[0].SKILL[0].VAL)+" "+e._s(e.$t("経験値")))])])}))],2)}))],2)])},r=[],c=n("5530"),s=n("bee2"),a=n("d4ec"),u=n("257e"),l=n("262e"),o=n("2caf"),f=n("ade3"),m=(n("99af"),n("d81d"),n("a434"),n("9ab4")),p=n("2fe1"),v=n("5935"),d=n("0063"),g=n.n(d),_=n("6b98"),b=n("f015"),x=n("177e"),h=function(e){Object(l["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;Object(a["a"])(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(f["a"])(Object(u["a"])(e),"level",void 0),Object(f["a"])(Object(u["a"])(e),"untilExp",void 0),e}return n}(_["a"]),E=function(e){Object(l["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"EquipmentExperience",get:function(){return x["a"]}},{key:"equipmentExpItems",get:function(){return this.dataManager.itemsByCategory[b["g"].eGROW_OTHER]}},{key:"experienceItemDfs",get:function(){return this.$store.state.equipmentLeveling.experienceItemDfs},set:function(e){this.$store.commit("equipmentLeveling/updateExperienceItemDfs",e)}},{key:"items",get:function(){var e=this;return this.experienceItemDfs.map((function(t){return e.dataManager.itemById[t]}))}},{key:"maxExp",get:function(){return x["a"].formula.getValue(this.level+1)-x["a"].formula.getValue(this.level)}},{key:"itemExperiences",get:function(){return this.items.map((function(e){return e.SPC[0].SKILL[0].VAL})).reduce((function(e,t){return e+t}),0)}},{key:"result",get:function(){return(new x["a"]).compose(60,this.itemExperiences,this.level,this.untilExp)}},{key:"totalItems",get:function(){return g.a.from(this.items).groupBy((function(e){return e.DF})).select((function(e){return{item:e.firstOrDefault(),count:e.count()}})).orderBy((function(e){return e.item.DF})).toArray()}},{key:"onClickAddItem",value:function(e){this.experienceItemDfs.push(e.DF)}},{key:"onClickRemoveItem",value:function(e){this.experienceItemDfs.splice(e,1)}}]),n}(h);E=Object(m["b"])([Object(p["b"])({components:{},computed:Object(c["a"])({},Object(v["b"])("equipmentLeveling",["level","untilExp"]))})],E);var y=E,C=y,O=(n("c6c0"),n("2877")),I=Object(O["a"])(C,i,r,!1,null,"45a90551",null);t["default"]=I.exports},a434:function(e,t,n){"use strict";var i=n("23e7"),r=n("23cb"),c=n("a691"),s=n("50c4"),a=n("7b0b"),u=n("65f0"),l=n("8418"),o=n("1dde"),f=o("splice"),m=Math.max,p=Math.min,v=9007199254740991,d="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,i,o,f,g,_,b=a(this),x=s(b.length),h=r(e,x),E=arguments.length;if(0===E?n=i=0:1===E?(n=0,i=x-h):(n=E-2,i=p(m(c(t),0),x-h)),x+n-i>v)throw TypeError(d);for(o=u(b,i),f=0;f<i;f++)g=h+f,g in b&&l(o,f,b[g]);if(o.length=i,n<i){for(f=h;f<x-i;f++)g=f+i,_=f+n,g in b?b[_]=b[g]:delete b[_];for(f=x;f>x-i+n;f--)delete b[f-1]}else if(n>i)for(f=x-i;f>h;f--)g=f+i-1,_=f+n-1,g in b?b[_]=b[g]:delete b[_];for(f=0;f<n;f++)b[f+h]=arguments[f+2];return b.length=x-i+n,o}})},bdc7:function(e,t,n){},c6c0:function(e,t,n){"use strict";n("bdc7")},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,c=n("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c(s)}}]);