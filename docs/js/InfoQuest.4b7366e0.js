(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InfoQuest"],{1701:function(t,e,a){},"8f94":function(t,e,a){"use strict";var r=a("1701"),s=a.n(r);s.a},"926b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.$t("カテゴリー")))]),a("el-select",{attrs:{clearable:"",filterable:""},model:{value:t.filter.category,callback:function(e){t.$set(t.filter,"category",e)},expression:"filter.category"}},t._l(t.categoryFilter,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.$t("キャラクター")))]),a("el-select",{attrs:{clearable:"",filterable:""},model:{value:t.filter.character,callback:function(e){t.$set(t.filter,"character",e)},expression:"filter.character"}},t._l(t.characterFilter,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"filter"},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:t.filter.has,callback:function(e){t.$set(t.filter,"has",e)},expression:"filter.has"}},t._l(t.hasFilter,(function(e){return a("el-checkbox-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1),a("div",{staticClass:"filter"},[a("span",[t._v(t._s(t.$t("名前"))+"/DF")]),a("el-input",{attrs:{clearable:""},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1),a("div",{staticClass:"filter"},[a("el-switch",{attrs:{"active-text":t.$t("EXクェスト")},model:{value:t.filter.extraQuest,callback:function(e){t.$set(t.filter,"extraQuest",e)},expression:"filter.extraQuest"}})],1),a("div",{staticClass:"filter"},[a("el-button",{on:{click:t.onClickExpandAll}},[t._v(t._s(t.$t("すべて展開")))])],1)]),a("div",{staticClass:"content"},[a("el-table",{ref:"table",attrs:{data:t.filteredQuests,"row-key":t.getRowKey},on:{"sort-change":t.onSortChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l([e.row],(function(e){return[a("div",{staticClass:"item-container"},[a("div",{staticClass:"item-container-left"},[e.CHARA?a("div",[a("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:e.CHARA}}}}),a("img",{staticClass:"icon-full",attrs:{src:t.dataManager.characterById[e.CHARA].icon,alt:t.dataManager.characterById[e.CHARA].NAME}})],1):t._e(),a("h3",[t._v(t._s(e.NAME))]),a("p",[t._v(t._s(e.DESC))]),a("br"),a("p",[t._v("DF: "+t._s(e.DF))]),a("p",[t._v(t._s(t.$t("クェスト号"))+": "+t._s(e.QUEST_NO))]),a("p",[t._v(t._s(t.$t("クェストステップ"))+": "+t._s(e.QUEST_SUB_NO))]),a("p",[t._v(t._s(t.$t("種類"))+": "+t._s(t.$t(t.dataManager.lookup.EQuestCategory[e.CATEG])))]),a("p",[t._v(t._s(t.$t("解放チャプター"))+": "+t._s(e.CHAPTER?e.CHAPTER:"-"))]),a("p",[t._v(t._s(t.$t("キークェスト"))+": "+t._s(t.Utils.tickCross(e.KEYQUEST)))]),a("p",[t._v(t._s(t.$t("重要"))+": "+t._s(t.Utils.tickCross(e.IMPORTANT)))]),a("p",[t._v(t._s(t.$t("挑戦"))+": "+t._s(t.Utils.tickCross(e.CHALLENGE)))]),e.AREA?a("p",[t._v(t._s(t.$t("区域"))+":"),t._l([t.dataManager.areaInfoById[e.AREA]].filter((function(t){return t})),(function(e){return[t._l([t.dataManager.fieldNameById[e.iAreaNameId]].filter((function(t){return t})),(function(e){return[t._v(t._s(e.strAreaName))]}))]}))],2):t._e()]),a("div",{staticClass:"item-container-right"},[e.CONDITION?a("div",[a("h4",[t._v(t._s(t.$t("達成條件")))]),a("p",[t._v(t._s(e.CONDITION))])]):t._e(),e.COST.WTH.CNT?a("div",[a("el-divider",[t._v(t._s(t.$t("消費")))]),a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:t.dataManager.wealthById[e.COST.WTH.DF].icon,alt:t.dataManager.wealthById[e.COST.WTH.DF].NAME}}),a("span",[t._v(t._s(e.COST.WTH.CNT))])])],1):t._e(),e.ENM.length?a("div",[a("el-divider",[t._v(t._s(t.$t("討伐")))]),a("div",t._l(e.ENM.map((function(e){return[e,t.dataManager.enemyById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",{staticClass:"quest-kill-container"},[a("router-link",{attrs:{to:{name:"EnemiesEnemy",query:{df:s.DF}},target:"_blank"}},[a("img",{attrs:{src:s.icon,alt:s.strName}}),a("span",[t._v("x "+t._s(r.BDR))])])],1)})),0)],1):t._e(),e.GET.length?a("div",[a("el-divider",[t._v(t._s(t.$t("調合入手")))]),a("div",t._l(e.GET.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:s.RSP.length?"ToolsComposeItem":"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.BDR))])])],1)})),0)],1):t._e(),e.DLV.length?a("div",[a("el-divider",[t._v(t._s(t.$t("納品"))+"/"+t._s(t.$t("報告")))]),a("div",t._l(e.DLV.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:s.RSP.length?"ToolsComposeItem":"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.BDR))])])],1)})),0)],1):t._e(),e.RWD_ITEM.length||e.RWD_WTH.length?a("div",[a("el-divider",[t._v(t._s(t.$t("報酬")))]),t._l(e.RWD_ITEM.map((function(e){return[e,t.dataManager.itemById[e.DF]]})).filter((function(t){return t[1]})),(function(e){var r=e[0],s=e[1];return a("div",[a("router-link",{staticClass:"quest-reward-item-container",attrs:{to:{name:"ItemsItem",query:{df:s.DF,quality:r.QTY}},target:"_blank"}},[a("p",[t._v(t._s(t.$t("品質"))+t._s(r.QTY))]),a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("p",[t._v("x "+t._s(r.CNT))])])],1)})),t._l(e.RWD_WTH.map((function(e){return[e,t.dataManager.wealthById[e.DF]]})),(function(e){var r=e[0],s=e[1];return a("div",[a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:s.icon,alt:s.NAME}}),a("span",[t._v(t._s(r.CNT))])])])})),e.RNK_PT?a("div",[a("span",{staticClass:"wealth-container"},[a("img",{attrs:{src:"img/icon_item01/Texture2D/icon_item01_00009.png",alt:t.$t("アカデミーポイント")}}),a("span",[t._v(t._s(e.RNK_PT))])])]):t._e()],2):t._e(),e.UNLOCK.length?a("div",[a("el-divider",[t._v(t._s(t.$t("必要称号"))),t._l(e.UNLOCK.map((function(e){return[e,t.dataManager.degreeById[e.DF]]})).filter((function(t){var e=t[0],a=t[1];return a.STP===e.STP})),(function(e){e[0];var r=e[1];return a("div",[a("p",[t._v(t._s(r.NAME))])])}))],2)],1):t._e(),e.PARTY_IN?a("div",[a("el-divider",[t._v(t._s(t.$t("必要キャラクター")))]),a("div",[a("router-link",{attrs:{to:{name:"CharactersCharacter",query:{df:e.PARTY_IN}}}},[a("img",{staticClass:"icon-middle",attrs:{src:t.dataManager.characterById[e.PARTY_IN].icon,alt:t.dataManager.characterById[e.PARTY_IN].NAME}})])],1)],1):t._e()])])]}))]}}])}),a("el-table-column",{attrs:{prop:"DF",label:"DF",width:"100%",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"NAME",label:t.$t("名前"),sortable:"custom"}}),a("el-table-column",{attrs:{prop:"CATEG",label:t.$t("カテゴリー"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$t(t.dataManager.lookup.EQuestCategory[e.row.CATEG])))]}}])}),a("el-table-column",{attrs:{prop:"COST.WTH.CNT",label:t.$t("消費"),width:"100%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.Utils.tickCross(e.row.COST.WTH.CNT)))]}}])}),a("el-table-column",{attrs:{prop:"ENM.length",label:t.$t("討伐"),width:"100%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.Utils.tickCross(e.row.ENM.length)))]}}])}),a("el-table-column",{attrs:{prop:"GET.length",label:t.$t("調合入手"),width:"100%",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.Utils.tickCross(e.row.GET.length)))]}}])}),a("el-table-column",{attrs:{prop:"DLV.length",label:t.$t("納品")+"/"+t.$t("報告"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.Utils.tickCross(e.row.DLV.length)))]}}])}),a("el-table-column",{attrs:{prop:"CHARA",label:t.$t("キャラクター"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.CHARA?a("img",{staticClass:"character-preview",attrs:{src:t.dataManager.characterById[e.row.CHARA].icon,alt:t.dataManager.characterById[e.row.CHARA].NAME}}):t._e()]}}])})],1),a("el-pagination",{attrs:{"page-size":t.take,"current-page":t.page,total:t.total,layout:"prev, pager, next",background:""},on:{"current-change":t.scrollTableTop,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)])},s=[],l=(a("ddb0"),a("9ab4")),i=a("2fe1"),n=a("0aea"),o=a("5456");class c{static tickCross(t){return t?"✓":"x"}}let u=class extends n["a"]{constructor(){super(...arguments),this.filter={category:null,character:null,has:[],name:"",extraQuest:!1,sort:"",order:null},this.page=1,this.take=100,this.total=0,this.currentRows=[]}get dataManager(){return o["a"]}get Utils(){return c}get categoryFilter(){return Object.keys(o["a"].questsByCategory).filter(t=>t).map(t=>({label:this.$t(o["a"].lookup.EQuestCategory[t]),value:t}))}get characterFilter(){return o["a"].charactersCanBattle.map(t=>({label:t.NAME,value:t.DF}))}get hasFilter(){return[{label:this.$t("消費"),value:1},{label:this.$t("討伐"),value:2},{label:this.$t("調合入手"),value:3},{label:`${this.$t("納品")}/${this.$t("報告")}`,value:4}]}get filteredQuests(){const t=this.filter.category?o["a"].questsByCategory[this.filter.category]:[...o["a"].quest.m_vList].reverse(),e=t.filter(t=>(!this.filter.character||t.CHARA===this.filter.character)&&(!this.filter.name||t.DF===+this.filter.name||t.NAME.toLocaleLowerCase().includes(this.filter.name.toLocaleLowerCase()))&&(!this.filter.extraQuest||o["a"].extraQuest.List.some(e=>e.iQuestDf===t.DF))&&(!this.filter.has.includes(1)||t.COST.WTH.CNT)&&(!this.filter.has.includes(2)||t.ENM.length)&&(!this.filter.has.includes(3)||t.GET.length)&&(!this.filter.has.includes(4)||t.DLV.length));if(this.total=e.length,this.filter.sort){const t=t=>this.filter.sort.split(".").reduce((t,e)=>t[e],t);"NAME"===this.filter.sort?"ascending"===this.filter.order?e.sort((e,a)=>t(e).localeCompare(t(a))):e.sort((e,a)=>t(a).localeCompare(t(e))):"ascending"===this.filter.order?e.sort((e,a)=>t(e)-t(a)):e.sort((e,a)=>t(a)-t(e))}return this.currentRows=e.slice((this.page-1)*this.take,this.page*this.take),this.currentRows}beforeMount(){this.$route.query.df&&(this.filter.name=this.$route.query.df.toString())}mounted(){this.$route.query.df&&this.onClickExpandAll()}onClickExpandAll(){const t=this.$refs.table;this.currentRows.forEach(e=>t.toggleRowExpansion(e,!0))}getRowKey(t){return t.DF}onSortChange({prop:t,order:e}){this.filter.sort=t,this.filter.order=e}scrollTableTop(){this.$refs.table.$el.scrollIntoView()}};u=Object(l["a"])([Object(i["a"])({components:{}})],u);var d=u,_=d,f=(a("8f94"),a("2877")),h=Object(f["a"])(_,r,s,!1,null,"5b93aa12",null);e["default"]=h.exports}}]);
//# sourceMappingURL=InfoQuest.4b7366e0.js.map